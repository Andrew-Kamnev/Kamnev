function Barmen(e){function t(e,t){return $.ajax({url:g.apiUrl+e,data:t,dataType:"jsonp"})}function n(){var e={wmode:"transparent"};$.each(b,function(t,n){var a=$("#"+n).data();swfobject.embedSWF(a.swf,n,a.width,a.height,"8.0.0",null,{link1:a.url.replace(/&/g,"%26")},e)}),b=[]}function a(e){return e+ +new Date+Math.floor(999999*Math.random())}function i(e,t){return $.each(e,function(e,n){var a=n.public_url;t=t.replace(new RegExp(a,"g"),r(a))}),t}function r(e){var t=$.param({rubric_id:m?0:f,region_id:p});return e+(/\?/.test(e)?"&":"?")+t}function o(){var e,t,n=$(this),a=$("<div>");a[0].innerHTML=n.data().html,t=a.find("script").remove(),e=this.contentWindow.document,e.open(),e.write(a.html()),t.each(function(t,n){n.src?e.write('<script type="text/javascript" src="'+n.src+'"></script>'):e.write('<script type="text/javascript">'+$(n).html()+"</script>")}),e.close(),n.contents().find("body").css({margin:0,overflow:"hidden"})}function s(e,t){switch(e.type){case"BannerShapes::Image":var n,s,l=e.banner_shape_link,c=e.banner_shape_image;if(!c)return;if(s=$("<img>").css({width:e.width+(e.percent_width?"%":""),height:e.height+(e.percent_height?"%":"")}).attr({src:c.public_url}),!l){n=s;break}n=$("<a>").attr({href:r(l.public_url),target:"_blank"}).addClass(g.className).append(s);break;case"BannerShapes::Html":if(!e.html)return;id=a("iframe-barmen-"),y.push(id),n=$iframe=$("<iframe>").addClass(g.className).attr({id:id}).css({width:e.width+(e.percent_width?"%":""),height:e.height+(e.percent_height?"%":"")}).data({html:i(e.banner_shape_links,e.html)}).one("load onreadystatechange",o).on("barmen:refresh",o);break;case"BannerShapes::Flash":if(!e.banner_shape_file)return;id=a("flash-barmen-"),b.push(id),n=$("<div>").addClass(g.className).attr({id:id}).data({width:e.width+(e.percent_width?"%":""),height:e.height+(e.percent_height?"%":""),url:e.banner_shape_link&&r(e.banner_shape_link.public_url),swf:e.banner_shape_file.public_url}).addClass("js-flash-barmen");break;case"BannerShapes::Showcase":var u="barmen_client/showcase"+(g.isMobile?"_mobile":"");e.url=r(e.banner_shape_link.public_url),n=HandlebarsTemplates[u](e)}return $("<div>").data({id:t}).append(n)}function l(e){for(var t,n,a=e.length;a;t=parseInt(Math.random()*a),n=e[--a],e[a]=e[t],e[t]=n);return!0}function c(){var e=$(g.statSelector);e.length&&t(h.SHARE.BANNERS_STAT,{"id[]":$.map(e,function(e){return $(e).data(g.dataStatUUIDName)}),region_id:p,rubric_id:f})}function u(e,t){t=t||0;var n=e.getBoundingClientRect().top<window.innerHeight+t,a=e.getBoundingClientRect().bottom>-t;return n&&a}function d(e,t){var n=$(e).data(),a=$(t).data();return e=n.order||0,t=a.order||0,e<t?-1:e>t?1:n.index<a.index?-1:n.index>a.index?1:0}var p,f,m,h={SHARE:{BANNERS:"/share/banners/",BANNERS_STAT:"/share/statistics/banners/views/"}},g={},v={className:"barmen",classEmpty:"barmen-empty",classLoaded:"js-barmen-loaded",autoStart:!0,dataName:"barmen",dataUUIDName:"uuid",dataStatUUIDName:"barmen-uuid",dataCount:"count",selector:"[data-barmen]",statSelector:"[data-barmen-uuid]",isMobile:!1},y=[],b=[],k={};this.getBanners=function(e){var t={uuids:[],slugs:{types:[],limits:{}}};return $(g.selector).each(function(){var n,a,i=$(this);!e&&i.hasClass(g.classLoaded)||(i.data(g.dataUUIDName)?t.uuids.push(i.data(g.dataName)):(n=parseInt(t.slugs.limits[i.data(g.dataName)])||0,a=parseInt(i.data(g.dataCount))||1,t.slugs.limits[i.data(g.dataName)]=n+a,t.slugs.types.push(i.data(g.dataName))))}),t},this.load=function(e){var a=this,i=$.Deferred(),r=$.Deferred(),o=a.getBanners(e);o.slugs.types.length?t(h.SHARE.BANNERS,$.extend(o.slugs,{placement:m||(f?"catalogue":"main_page"),"filters[rubric_id]":f,"filters[region_id]":p})).then(function(t){k=t,Object.keys(k).length?(a.replace(o.slugs,e),$doc.on("scroll",a.makeThrottleReplace(o.slugs,e,100))):$(g.selector).addClass(g.classEmpty),i.resolve()}):i.resolve(),o.uuids.length?t(h.SHARE.BANNERS,{uuids:o.uuids}).then(function(e){$.each(e,function(e,t){$("[data-"+g.dataName+'="'+t.uuid+'"]').html(s(t.banner_shape,t.uuid)).addClass(g.classLoaded)}),r.resolve()}):r.resolve(),$.when(i,r).done(function(){b.length&&n(),c(),$(document).trigger("Loaded:Barmen")})},this.loadOne=function(e,n){return t(h.SHARE.BANNERS+e).then(function(e){k[n]=e})},this.create=function(e,t){var n,a=k[e];return!!a&&(n=$("<div>"),$.isArray(a)?l(a):a=[a],$.each(a.splice(0,t||1),function(e,t){n.append(s(t.banner_shape,t.uuid))}),n.children())},this.makeThrottleReplace=function(e,t,n){var a,i=this;return function(){a||(a=!0,setTimeout(function(){a=!1},n),i.replace(e,t))}},this.replace=function(e,t){var n=this,a=$.makeArray($(g.selector).not("[data-"+g.dataUUIDName+"]"));$.each(a,function(e){$(this).data({index:e})}),$.each(a.sort(d),function(){var a=$(this),i=a.data(g.dataName),r=a.data(g.dataCount)||1,o=t||!a.hasClass(g.classLoaded),s=u(a[0],300);if((!~e.types.indexOf(i)||!k[i]||!k[i].length)&&o)return a.addClass(g.classEmpty),void $doc.trigger("InsertEmpty:Barmen");o&&s&&a.html(n.create(i,r)).addClass(g.classLoaded)})},this.initFlash=n,p=$('meta[name="barmen-region"]').attr("content"),f=$('meta[name="barmen-rubric"]').attr("content")||0,m=$('meta[name="barmen-placement"]').attr("content")||"",g=$.extend(!0,{},v,e),g.autoStart&&this.load()}!function(e){function t(a,i,r){return this instanceof t?(this.el=void 0,this.events={},this.maskset=void 0,this.refreshValue=!1,void(!0!==r&&(e.isPlainObject(a)?i=a:(i=i||{},i.alias=a),this.opts=e.extend(!0,{},this.defaults,i),this.noMasksCache=i&&void 0!==i.definitions,this.userOptions=i||{},this.isRTL=this.opts.numericInput,n(this.opts.alias,i,this.opts)))):new t(a,i,r)}function n(a,i,r){var o=t.prototype.aliases[a];return o?(o.alias&&n(o.alias,void 0,r),e.extend(!0,r,o),e.extend(!0,r,i),!0):(null===r.mask&&(r.mask=a),!1)}function a(n,a){function i(n,i,r){if(null!==n&&""!==n){if(1===n.length&&!1===r.greedy&&0!==r.repeat&&(r.placeholder=""),r.repeat>0||"*"===r.repeat||"+"===r.repeat){var o="*"===r.repeat?0:"+"===r.repeat?1:r.repeat;n=r.groupmarker.start+n+r.groupmarker.end+r.quantifiermarker.start+o+","+r.repeat+r.quantifiermarker.end}var s;return void 0===t.prototype.masksCache[n]||!0===a?(s={mask:n,maskToken:t.prototype.analyseMask(n,r),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:i,maskLength:void 0},!0!==a&&(t.prototype.masksCache[r.numericInput?n.split("").reverse().join(""):n]=s,s=e.extend(!0,{},t.prototype.masksCache[r.numericInput?n.split("").reverse().join(""):n]))):s=e.extend(!0,{},t.prototype.masksCache[r.numericInput?n.split("").reverse().join(""):n]),s}}var r;if(e.isFunction(n.mask)&&(n.mask=n.mask(n)),e.isArray(n.mask)){if(n.mask.length>1){n.keepStatic=null===n.keepStatic||n.keepStatic;var o=n.groupmarker.start;return e.each(n.numericInput?n.mask.reverse():n.mask,function(t,a){o.length>1&&(o+=n.groupmarker.end+n.alternatormarker+n.groupmarker.start),o+=void 0===a.mask||e.isFunction(a.mask)?a:a.mask}),o+=n.groupmarker.end,i(o,n.mask,n)}n.mask=n.mask.pop()}return n.mask&&(r=void 0===n.mask.mask||e.isFunction(n.mask.mask)?i(n.mask,n.mask,n):i(n.mask.mask,n.mask,n)),r}function i(n,a,r){function u(e,t,n){t=t||0;var a,i,o,s=[],l=0,c=f();-1===(K=void 0!==q?q.maxLength:void 0)&&(K=void 0);do{!0===e&&d().validPositions[l]?(o=d().validPositions[l],i=o.match,a=o.locator.slice(),s.push(!0===n?o.input:!1===n?i.nativeDef:M(l,i))):(o=g(l,a,l-1),i=o.match,a=o.locator.slice(),(!1===r.jitMasking||l<c||"number"==typeof r.jitMasking&&isFinite(r.jitMasking)&&r.jitMasking>l)&&s.push(!1===n?i.nativeDef:M(l,i))),l++}while((void 0===K||l<K)&&(null!==i.fn||""!==i.def)||t>l);return""===s[s.length-1]&&s.pop(),d().maskLength=l+1,s}function d(){return a}function p(e){var t=d();t.buffer=void 0,!0!==e&&(t._buffer=void 0,t.validPositions={},t.p=0)}function f(e,t,n){var a=-1,i=-1,r=n||d().validPositions;void 0===e&&(e=-1);for(var o in r){var s=parseInt(o);r[s]&&(t||!0!==r[s].generatedInput)&&(s<=e&&(a=s),s>=e&&(i=s))}return-1!==a&&e-a>1||i<e?a:i}function m(t,n,a,i){function o(e){var t=d().validPositions[e];if(void 0!==t&&null===t.match.fn){var n=d().validPositions[e-1],a=d().validPositions[e+1];return void 0!==n&&void 0!==a}return!1}var s,l=t,c=e.extend(!0,{},d().validPositions),u=!1;for(d().p=t,s=n-1;s>=l;s--)void 0!==d().validPositions[s]&&(!0!==a&&(!d().validPositions[s].match.optionality&&o(s)||!1===r.canClearPosition(d(),s,f(),i,r))||delete d().validPositions[s]);for(p(!0),s=l+1;s<=f();){for(;void 0!==d().validPositions[l];)l++;if(s<l&&(s=l+1),void 0===d().validPositions[s]&&S(s))s++;else{var m=g(s);!1===u&&c[l]&&c[l].match.def===m.match.def?(d().validPositions[l]=e.extend(!0,{},c[l]),d().validPositions[l].input=m.input,delete d().validPositions[s],s++):y(l,m.match.def)?!1!==j(l,m.input||M(s),!0)&&(delete d().validPositions[s],s++,u=!0):S(s)||(s++,l--),l++}}p(!0)}function h(e,t){for(var n,a=e,i=f(),o=d().validPositions[i]||b(0)[0],s=void 0!==o.alternation?o.locator[o.alternation].toString().split(","):[],l=0;l<a.length&&(n=a[l],!(n.match&&(r.greedy&&!0!==n.match.optionalQuantifier||(!1===n.match.optionality||!1===n.match.newBlockMarker)&&!0!==n.match.optionalQuantifier)&&(void 0===o.alternation||o.alternation!==n.alternation||void 0!==n.locator[o.alternation]&&_(n.locator[o.alternation].toString().split(","),s)))||!0===t&&(null!==n.match.fn||/[0-9a-bA-Z]/.test(n.match.def)));l++);return n}function g(e,t,n){return d().validPositions[e]||h(b(e,t?t.slice():t,n))}function v(e){return d().validPositions[e]?d().validPositions[e]:b(e)[0]}function y(e,t){for(var n=!1,a=b(e),i=0;i<a.length;i++)if(a[i].match&&a[i].match.def===t){n=!0;break}return n}function b(t,n,a){function i(n,a,o,s){function c(o,s,p){function h(t,n){var a=0===e.inArray(t,n.matches);return a||e.each(n.matches,function(e,i){if(!0===i.isQuantifier&&(a=h(t,n.matches[e-1])))return!1}),a}function v(t,n,a){var i,r;return(d().tests[t]||d().validPositions[t])&&e.each(d().tests[t]||[d().validPositions[t]],function(e,t){var o=void 0!==a?a:t.alternation,s=void 0!==t.locator[o]?t.locator[o].toString().indexOf(n):-1;(void 0===r||s<r)&&-1!==s&&(i=t,r=s)}),i?i.locator.slice((void 0!==a?a:i.alternation)+1):void 0!==a?v(t,n):void 0}function y(e,n){return null===e.match.fn&&null!==n.match.fn&&n.match.fn.test(e.match.def,d(),t,!1,r,!1)}if(u>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+d().mask;if(u===t&&void 0===o.matches)return f.push({match:o,locator:s.reverse(),cd:g}),!0;if(void 0!==o.matches){if(o.isGroup&&p!==o){if(o=c(n.matches[e.inArray(o,n.matches)+1],s))return!0}else if(o.isOptional){var b=o;if(o=i(o,a,s,p)){if(l=f[f.length-1].match,!h(l,b))return!0;m=!0,u=t}}else if(o.isAlternator){var k,x=o,w=[],C=f.slice(),_=s.length,j=a.length>0?a.shift():-1;if(-1===j||"string"==typeof j){var S,P=u,E=a.slice(),A=[];if("string"==typeof j)A=j.split(",");else for(S=0;S<x.matches.length;S++)A.push(S);for(var T=0;T<A.length;T++){if(S=parseInt(A[T]),f=[],a=v(u,S,_)||E.slice(),!0!==(o=c(x.matches[S]||n.matches[S],[S].concat(s),p)||o)&&void 0!==o&&A[A.length-1]<x.matches.length){var M=e.inArray(o,n.matches)+1;n.matches.length>M&&(o=c(n.matches[M],[M].concat(s.slice(1,s.length)),p))&&(A.push(M.toString()),e.each(f,function(e,t){t.alternation=s.length-1}))}k=f.slice(),u=P,f=[];for(var $=0;$<k.length;$++){var O=k[$],R=!1;O.alternation=O.alternation||_;for(var I=0;I<w.length;I++){var F=w[I];if(("string"!=typeof j||-1!==e.inArray(O.locator[O.alternation].toString(),A))&&(O.match.def===F.match.def||y(O,F))){R=O.match.nativeDef===F.match.nativeDef,O.alternation==F.alternation&&-1===F.locator[F.alternation].toString().indexOf(O.locator[O.alternation])&&(F.locator[F.alternation]=F.locator[F.alternation]+","+O.locator[O.alternation],F.alternation=O.alternation,null==O.match.fn&&(F.na=F.na||O.locator[O.alternation].toString(),-1===F.na.indexOf(O.locator[O.alternation])&&(F.na=F.na+","+O.locator[O.alternation])));break}}R||w.push(O)}}"string"==typeof j&&(w=e.map(w,function(t,n){if(isFinite(n)){var a=t.alternation,i=t.locator[a].toString().split(",");t.locator[a]=void 0,t.alternation=void 0;for(var r=0;r<i.length;r++)-1!==e.inArray(i[r],A)&&(void 0!==t.locator[a]?(t.locator[a]+=",",t.locator[a]+=i[r]):t.locator[a]=parseInt(i[r]),t.alternation=a);if(void 0!==t.locator[a])return t}})),f=C.concat(w),u=t,m=f.length>0,a=E.slice()}else o=c(x.matches[j]||n.matches[j],[j].concat(s),p);if(o)return!0}else if(o.isQuantifier&&p!==n.matches[e.inArray(o,n.matches)-1])for(var H=o,D=a.length>0?a.shift():0;D<(isNaN(H.quantifier.max)?D+1:H.quantifier.max)&&u<=t;D++){var N=n.matches[e.inArray(H,n.matches)-1];if(o=c(N,[D].concat(s),N)){if(l=f[f.length-1].match,l.optionalQuantifier=D>H.quantifier.min-1,h(l,N)){if(D>H.quantifier.min-1){m=!0,u=t;break}return!0}return!0}}else if(o=i(o,a,s,p))return!0}else u++}for(var p=a.length>0?a.shift():0;p<n.matches.length;p++)if(!0!==n.matches[p].isQuantifier){var h=c(n.matches[p],[p].concat(o),s);if(h&&u===t)return h;if(u>t)break}}function o(t){var n=[];return e.isArray(t)||(t=[t]),t.length>0&&(void 0===t[0].alternation?(n=h(t.slice()).locator.slice(),0===n.length&&(n=t[0].locator.slice())):e.each(t,function(e,t){if(""!==t.def)if(0===n.length)n=t.locator.slice();else for(var a=0;a<n.length;a++)t.locator[a]&&-1===n[a].toString().indexOf(t.locator[a])&&(n[a]+=","+t.locator[a])})),n}function s(e){return r.keepStatic&&t>0&&e.length>1+(""===e[e.length-1].match.def?1:0)&&!0!==e[0].match.optionality&&!0!==e[0].match.optionalQuantifier&&null===e[0].match.fn&&!/[0-9a-bA-Z]/.test(e[0].match.def)?[h(e)]:e}var l,c=d().maskToken,u=n?a:0,p=n?n.slice():[0],f=[],m=!1,g=n?n.join(""):"";if(t>-1){if(void 0===n){for(var v,y=t-1;void 0===(v=d().validPositions[y]||d().tests[y])&&y>-1;)y--;void 0!==v&&y>-1&&(p=o(v),g=p.join(""),u=y)}if(d().tests[t]&&d().tests[t][0].cd===g)return s(d().tests[t]);for(var b=p.shift();b<c.length;b++){if(i(c[b],p,[b])&&u===t||u>t)break}}return(0===f.length||m)&&f.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:"",placeholder:""},locator:[],cd:g}),void 0!==n&&d().tests[t]?s(e.extend(!0,[],f)):(d().tests[t]=e.extend(!0,[],f),s(d().tests[t]))}function k(){return void 0===d()._buffer&&(d()._buffer=u(!1,1),void 0===d().buffer&&d()._buffer.slice()),d()._buffer}function x(e){return void 0!==d().buffer&&!0!==e||(d().buffer=u(!0,f(),!0)),d().buffer}function w(e,t,n){var a;if(!0===e)p(),e=0,t=n.length;else for(a=e;a<t;a++)delete d().validPositions[a];for(a=e;a<t;a++)p(!0),n[a]!==r.skipOptionalPartCharacter&&j(a,n[a],!0,!0)}function C(e,n,a){switch(r.casing||n.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break;case"title":var i=d().validPositions[a-1];e=0===a||i&&i.input===String.fromCharCode(t.keyCode.SPACE)?e.toUpperCase():e.toLowerCase()}return e}function _(t,n,a){for(var i,o=r.greedy?n:n.slice(0,1),s=!1,l=void 0!==a?a.split(","):[],c=0;c<l.length;c++)-1!==(i=t.indexOf(l[c]))&&t.splice(i,1);for(var u=0;u<t.length;u++)if(-1!==e.inArray(t[u],o)){s=!0;break}return s}function j(n,a,i,o,s){function l(e){var t=W?e.begin-e.end>1||e.begin-e.end==1&&r.insertMode:e.end-e.begin>1||e.end-e.begin==1&&r.insertMode;return t&&0===e.begin&&e.end===d().maskLength?"full":t}function c(t,a,i){var s=!1;return e.each(b(t),function(c,u){for(var h=u.match,g=a?1:0,v="",y=h.cardinality;y>g;y--)v+=A(t-(y-1));if(a&&(v+=a),x(!0),!1!==(s=null!=h.fn?h.fn.test(v,d(),t,i,r,l(n)):(a===h.def||a===r.skipOptionalPartCharacter)&&""!==h.def&&{c:M(t,h,!0)||h.def,pos:t})){var b=void 0!==s.c?s.c:a;b=b===r.skipOptionalPartCharacter&&null===h.fn?M(t,h,!0)||h.def:b;var _=t,S=x();if(void 0!==s.remove&&(e.isArray(s.remove)||(s.remove=[s.remove]),e.each(s.remove.sort(function(e,t){return t-e}),function(e,t){m(t,t+1,!0)})),void 0!==s.insert&&(e.isArray(s.insert)||(s.insert=[s.insert]),e.each(s.insert.sort(function(e,t){return e-t}),function(e,t){j(t.pos,t.c,!0,o)})),s.refreshFromBuffer){var P=s.refreshFromBuffer;if(i=!0,w(!0===P?P:P.start,P.end,S),void 0===s.pos&&void 0===s.c)return s.pos=f(),!1;if((_=void 0!==s.pos?s.pos:t)!==t)return s=e.extend(s,j(_,b,!0,o)),!1}else if(!0!==s&&void 0!==s.pos&&s.pos!==t&&(_=s.pos,w(t,_,x().slice()),_!==t))return s=e.extend(s,j(_,b,!0)),!1;return(!0===s||void 0!==s.pos||void 0!==s.c)&&(c>0&&p(!0),k(_,e.extend({},u,{input:C(b,h,_)}),o,l(n))||(s=!1),!1)}}),s}function u(t,n,a){var i,s,l,c,u,m,h,g,v=e.extend(!0,{},d().validPositions),y=!1,k=f();for(c=d().validPositions[k];k>=0;k--)if((l=d().validPositions[k])&&void 0!==l.alternation){if(i=k,s=d().validPositions[i].alternation,c.locator[l.alternation]!==l.locator[l.alternation])break;c=l}if(void 0!==s){g=parseInt(i);var x=void 0!==c.locator[c.alternation||s]?c.locator[c.alternation||s]:h[0];x.length>0&&(x=x.split(",")[0]);var w=d().validPositions[g],C=d().validPositions[g-1];e.each(b(g,C?C.locator:void 0,g-1),function(i,l){h=l.locator[s]?l.locator[s].toString().split(","):[];for(var c=0;c<h.length;c++){var b=[],k=0,C=0,_=!1;if(x<h[c]&&(void 0===l.na||-1===e.inArray(h[c],l.na.split(",")))){d().validPositions[g]=e.extend(!0,{},l);var S=d().validPositions[g].locator;for(d().validPositions[g].locator[s]=parseInt(h[c]),null==l.match.fn?(w.input!==l.match.def&&(_=!0,!0!==w.generatedInput&&b.push(w.input)),C++,d().validPositions[g].generatedInput=!/[0-9a-bA-Z]/.test(l.match.def),d().validPositions[g].input=l.match.def):d().validPositions[g].input=w.input,u=g+1;u<f(void 0,!0)+1;u++)m=d().validPositions[u],m&&!0!==m.generatedInput&&/[0-9a-bA-Z]/.test(m.input)?b.push(m.input):u<t&&k++,delete d().validPositions[u];for(_&&b[0]===l.match.def&&b.shift(),p(!0),y=!0;b.length>0;){var P=b.shift();if(P!==r.skipOptionalPartCharacter&&!(y=j(f(void 0,!0)+1,P,!1,o,!0)))break}if(y){d().validPositions[g].locator=S;var E=f(t)+1;for(u=g+1;u<f()+1;u++)(void 0===(m=d().validPositions[u])||null==m.match.fn)&&u<t+(C-k)&&C++;t+=C-k,y=j(t>E?E:t,n,a,o,!0)}if(y)return!1;p(),d().validPositions=e.extend(!0,{},v)}}})}return y}function v(t,n){var a=d().validPositions[n];if(a)for(var i=a.locator,r=i.length,o=t;o<n;o++)if(void 0===d().validPositions[o]&&!S(o,!0)){var s=b(o).slice(),l=h(s,!0),u=-1;""===s[s.length-1].match.def&&s.pop(),e.each(s,function(e,t){for(var n=0;n<r;n++){if(void 0===t.locator[n]||!_(t.locator[n].toString().split(","),i[n].toString().split(","),t.na)){var a=i[n],o=l.locator[n],s=t.locator[n];a-o>Math.abs(a-s)&&(l=t);break}u<n&&(u=n,l=t)}}),l=e.extend({},l,{input:M(o,l.match,!0)||l.match.def}),l.generatedInput=!0,k(o,l,!0),d().validPositions[n]=void 0,c(n,a.input,!0)}}function k(t,n,a,i){if(i||r.insertMode&&void 0!==d().validPositions[t]&&void 0===a){var o,s=e.extend(!0,{},d().validPositions),l=f(void 0,!0);for(o=t;o<=l;o++)delete d().validPositions[o];d().validPositions[t]=e.extend(!0,{},n);var c,u=!0,m=d().validPositions,h=!1,g=d().maskLength;for(o=c=t;o<=l;o++){var v=s[o];if(void 0!==v)for(var b=c;b<d().maskLength&&(null===v.match.fn&&m[o]&&(!0===m[o].match.optionalQuantifier||!0===m[o].match.optionality)||null!=v.match.fn);){if(b++,!1===h&&s[b]&&s[b].match.def===v.match.def)d().validPositions[b]=e.extend(!0,{},s[b]),d().validPositions[b].input=v.input,E(b),c=b,u=!0;else if(y(b,v.match.def)){var k=j(b,v.input,!0,!0);u=!1!==k,c=k.caret||k.insert?f():b,h=!0}else if(!(u=!0===v.generatedInput)&&b>=d().maskLength-1)break;if(d().maskLength<g&&(d().maskLength=g),u)break}if(!u)break}if(!u)return d().validPositions=e.extend(!0,{},s),p(!0),!1}else d().validPositions[t]=e.extend(!0,{},n);return p(!0),!0}function E(t){for(var n=t-1;n>-1&&!d().validPositions[n];n--);var a,i;for(n++;n<t;n++)void 0===d().validPositions[n]&&(!1===r.jitMasking||r.jitMasking>n)&&(i=b(n,g(n-1).locator,n-1).slice(),""===i[i.length-1].match.def&&i.pop(),(a=h(i))&&(a.match.def===r.radixPointDefinitionSymbol||!S(n,!0)||e.inArray(r.radixPoint,x())<n&&a.match.fn&&a.match.fn.test(M(n),d(),n,!1,r))&&!1!==($=c(n,M(n,a.match,!0)||(null==a.match.fn?a.match.def:""!==M(n)?M(n):x()[n]),!0))&&(d().validPositions[$.pos||n].generatedInput=!0))}i=!0===i;var T=n;void 0!==n.begin&&(T=W&&!l(n)?n.end:n.begin);var $=!1,O=e.extend(!0,{},d().validPositions);if(E(T),l(n)&&(D(void 0,t.keyCode.DELETE,n),T=d().p),T<d().maskLength&&($=c(T,a,i),(!i||!0===o)&&!1===$)){var R=d().validPositions[T];if(!R||null!==R.match.fn||R.match.def!==a&&a!==r.skipOptionalPartCharacter){if((r.insertMode||void 0===d().validPositions[P(T)])&&!S(T,!0))for(var I=T+1,F=P(T);I<=F;I++)if(!1!==($=c(I,a,i))){v(T,void 0!==$.pos?$.pos:I),T=I;break}}else $={caret:P(T)}}return!1===$&&r.keepStatic&&!i&&!0!==s&&($=u(T,a,i)),!0===$&&($={pos:T}),e.isFunction(r.postValidation)&&!1!==$&&!i&&!0!==o&&($=!!r.postValidation(x(!0),$,r)&&$),void 0===$.pos&&($.pos=T),!1===$&&(p(!0),d().validPositions=e.extend(!0,{},O)),$}function S(e,t){var n;if(t?(n=g(e).match,""===n.def&&(n=v(e).match)):n=v(e).match,null!=n.fn)return n.fn;if(!0!==t&&e>-1){var a=b(e);return a.length>1+(""===a[a.length-1].match.def?1:0)}return!1}function P(e,t){var n=d().maskLength;if(e>=n)return n;for(var a=e;++a<n&&(!0===t&&(!0!==v(a).match.newBlockMarker||!S(a))||!0!==t&&!S(a)););return a}function E(e,t){var n,a=e;if(a<=0)return 0;for(;--a>0&&(!0===t&&!0!==v(a).match.newBlockMarker||!0!==t&&!S(a)&&(n=b(a),n.length<2||2===n.length&&""===n[1].match.def)););return a}function A(e){return void 0===d().validPositions[e]?M(e):d().validPositions[e].input}function T(t,n,a,i,o){if(i&&e.isFunction(r.onBeforeWrite)){var s=r.onBeforeWrite(i,n,a,r);if(s){if(s.refreshFromBuffer){var l=s.refreshFromBuffer;w(!0===l?l:l.start,l.end,s.buffer||n),n=x(!0)}void 0!==a&&(a=void 0!==s.caret?s.caret:a)}}t.inputmask._valueSet(n.join("")),void 0===a||void 0!==i&&"blur"===i.type?L(t,n,a):R(t,a),!0===o&&(Z=!0,e(t).trigger("input"))}function M(t,n,a){if(n=n||v(t).match,void 0!==n.placeholder||!0===a)return e.isFunction(n.placeholder)?n.placeholder(r):n.placeholder;if(null===n.fn){if(t>-1&&void 0===d().validPositions[t]){var i,o=b(t),s=[];if(o.length>1+(""===o[o.length-1].match.def?1:0))for(var l=0;l<o.length;l++)if(!0!==o[l].match.optionality&&!0!==o[l].match.optionalQuantifier&&(null===o[l].match.fn||void 0===i||!1!==o[l].match.fn.test(i.match.def,d(),t,!0,r))&&(s.push(o[l]),null===o[l].match.fn&&(i=o[l]),s.length>1&&/[0-9a-bA-Z]/.test(s[0].match.def)))return r.placeholder.charAt(t%r.placeholder.length)}return n.def}return r.placeholder.charAt(t%r.placeholder.length)}function $(n,a,i,o,s,l){function c(){var e=!1,t=k().slice(h,P(h)).join("").indexOf(m);if(-1!==t&&!S(h)){e=!0;for(var n=k().slice(h,h+t),a=0;a<n.length;a++)if(" "!==n[a]){e=!1;break}}return e}var u=o.slice(),m="",h=0,v=void 0;if(p(),d().p=P(-1),!i)if(!0!==r.autoUnmask){var y=k().slice(0,P(-1)).join(""),b=u.join("").match(new RegExp("^"+t.escapeRegex(y),"g"));b&&b.length>0&&(u.splice(0,b.length*y.length),h=P(h))}else h=P(h);if(e.each(u,function(t,a){if(void 0!==a){var o=new e.Event("keypress");o.which=a.charCodeAt(0),m+=a;var s=f(void 0,!0),l=d().validPositions[s],u=g(s+1,l?l.locator.slice():void 0,s);if(!c()||i||r.autoUnmask){var y=i?t:null==u.match.fn&&u.match.optionality&&s+1<d().p?s+1:d().p;v=ee.keypressEvent.call(n,o,!0,!1,i,y),h=y+1,m=""}else v=ee.keypressEvent.call(n,o,!0,!1,!0,s+1);if(!i&&e.isFunction(r.onBeforeWrite)&&(v=r.onBeforeWrite(o,x(),v.forwardPosition,r))&&v.refreshFromBuffer){var b=v.refreshFromBuffer;w(!0===b?b:b.start,b.end,v.buffer),p(!0),v.caret&&(d().p=v.caret)}}}),a){var C=void 0,_=f();document.activeElement===n&&(s||v)&&(C=R(n).begin,s&&!1===v&&(C=P(f(C))),v&&!0!==l&&(C<_+1||-1===_)&&(C=r.numericInput&&void 0===v.caret?E(v.forwardPosition):v.forwardPosition)),T(n,x(),C,s||new e.Event("checkval"))}}function O(t){if(t){if(void 0===t.inputmask)return t.value;t.inputmask&&t.inputmask.refreshValue&&ee.setValueEvent.call(t)}var n=[],a=d().validPositions;for(var i in a)a[i].match&&null!=a[i].match.fn&&n.push(a[i].input);var o=0===n.length?"":(W?n.reverse():n).join("");if(e.isFunction(r.onUnMask)){var s=(W?x().slice().reverse():x()).join("");o=r.onUnMask(s,o,r)||o}return o}function R(e,t,n,a){function i(e){if(!0!==a&&W&&"number"==typeof e&&(!r.greedy||""!==r.placeholder)){e=x().join("").length-e}return e}var s;if("number"!=typeof t)return e.setSelectionRange?(t=e.selectionStart,n=e.selectionEnd):window.getSelection?(s=window.getSelection().getRangeAt(0),s.commonAncestorContainer.parentNode!==e&&s.commonAncestorContainer!==e||(t=s.startOffset,n=s.endOffset)):document.selection&&document.selection.createRange&&(s=document.selection.createRange(),t=0-s.duplicate().moveStart("character",-e.inputmask._valueGet().length),n=t+s.text.length),{begin:i(t),end:i(n)};t=i(t),n=i(n),n="number"==typeof n?n:t;var l=parseInt(((e.ownerDocument.defaultView||window).getComputedStyle?(e.ownerDocument.defaultView||window).getComputedStyle(e,null):e.currentStyle).fontSize)*n;if(e.scrollLeft=l>e.scrollWidth?l:0,o||!1!==r.insertMode||t!==n||n++,e.setSelectionRange)e.selectionStart=t,e.selectionEnd=n;else if(window.getSelection){if(s=document.createRange(),void 0===e.firstChild||null===e.firstChild){var c=document.createTextNode("");e.appendChild(c)}s.setStart(e.firstChild,t<e.inputmask._valueGet().length?t:e.inputmask._valueGet().length),s.setEnd(e.firstChild,n<e.inputmask._valueGet().length?n:e.inputmask._valueGet().length),s.collapse(!0);var u=window.getSelection();u.removeAllRanges(),u.addRange(s)}else e.createTextRange&&(s=e.createTextRange(),s.collapse(!0),s.moveEnd("character",n),s.moveStart("character",t),s.select());L(e,void 0,{begin:t,end:n})}function I(t){var n,a,i=x(),r=i.length,o=f(),s={},l=d().validPositions[o],c=void 0!==l?l.locator.slice():void 0;for(n=o+1;n<i.length;n++)a=g(n,c,n-1),c=a.locator.slice(),s[n]=e.extend(!0,{},a);var u=l&&void 0!==l.alternation?l.locator[l.alternation]:void 0;for(n=r-1;n>o&&(a=s[n],(a.match.optionality||a.match.optionalQuantifier||u&&(u!==s[n].locator[l.alternation]&&null!=a.match.fn||null===a.match.fn&&a.locator[l.alternation]&&_(a.locator[l.alternation].toString().split(","),u.toString().split(","))&&""!==b(n)[0].def))&&i[n]===M(n,a.match));n--)r--;return t?{l:r,def:s[r]?s[r].match:void 0}:r}function F(e){for(var t,n=I(),a=e.length;n<a&&!S(n+1)&&(t=v(n+1))&&!0!==t.match.optionality&&!0!==t.match.optionalQuantifier;)n++;for(;(t=v(n-1))&&t.match.optionality&&t.input===r.skipOptionalPartCharacter;)n--;return e.splice(n),e}function H(t){if(e.isFunction(r.isComplete))return r.isComplete(t,r);if("*"!==r.repeat){var n=!1,a=I(!0),i=E(a.l);if(void 0===a.def||a.def.newBlockMarker||a.def.optionality||a.def.optionalQuantifier){n=!0;for(var o=0;o<=i;o++){var s=g(o).match;if(null!==s.fn&&void 0===d().validPositions[o]&&!0!==s.optionality&&!0!==s.optionalQuantifier||null===s.fn&&t[o]!==M(o,s)){n=!1;break}}}return n}}function D(n,a,i,o){function s(){if(r.keepStatic){for(var t=[],a=f(-1,!0),i=e.extend(!0,{},d().validPositions),o=d().validPositions[a];a>=0;a--){var s=d().validPositions[a];if(s){if(!0!==s.generatedInput&&/[0-9a-bA-Z]/.test(s.input)&&t.push(s.input),delete d().validPositions[a],void 0!==s.alternation&&s.locator[s.alternation]!==o.locator[s.alternation])break;o=s}}if(a>-1)for(d().p=P(f(-1,!0));t.length>0;){var l=new e.Event("keypress");l.which=t.pop().charCodeAt(0),ee.keypressEvent.call(n,l,!0,!1,!1,d().p)}else d().validPositions=e.extend(!0,{},i)}}if((r.numericInput||W)&&(a===t.keyCode.BACKSPACE?a=t.keyCode.DELETE:a===t.keyCode.DELETE&&(a=t.keyCode.BACKSPACE),W)){var l=i.end;i.end=i.begin,i.begin=l}a===t.keyCode.BACKSPACE&&(i.end-i.begin<1||!1===r.insertMode)?(i.begin=E(i.begin),void 0===d().validPositions[i.begin]||d().validPositions[i.begin].input!==r.groupSeparator&&d().validPositions[i.begin].input!==r.radixPoint||i.begin--):a===t.keyCode.DELETE&&i.begin===i.end&&(i.end=S(i.end,!0)?i.end+1:P(i.end)+1,void 0===d().validPositions[i.begin]||d().validPositions[i.begin].input!==r.groupSeparator&&d().validPositions[i.begin].input!==r.radixPoint||i.end++),m(i.begin,i.end,!1,o),!0!==o&&s();var c=f(i.begin,!0);c<i.begin?d().p=P(c):!0!==o&&(d().p=i.begin)}function N(t){function n(e){var n,a=document.createElement("span");for(var i in o)isNaN(i)&&-1!==i.indexOf("font")&&(a.style[i]=o[i]);a.style.textTransform=o.textTransform,a.style.letterSpacing=o.letterSpacing,a.style.position="absolute",a.style.height="auto",a.style.width="auto",a.style.visibility="hidden",a.style.whiteSpace="nowrap",document.body.appendChild(a);var r,s=t.inputmask._valueGet(),l=0;for(n=0,r=s.length;n<=r;n++){if(a.innerHTML+=s.charAt(n)||"_",a.offsetWidth>=e){var c=e-l,u=a.offsetWidth-e;a.innerHTML=s.charAt(n),c-=a.offsetWidth/3,n=c<u?n-1:n;break}l=a.offsetWidth}return document.body.removeChild(a),n}function a(){z.style.position="absolute",z.style.top=i.top+"px",z.style.left=i.left+"px",z.style.width=parseInt(t.offsetWidth)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth)+"px",z.style.height=parseInt(t.offsetHeight)-parseInt(o.paddingTop)-parseInt(o.paddingBottom)-parseInt(o.borderTopWidth)-parseInt(o.borderBottomWidth)+"px",z.style.lineHeight=z.style.height,z.style.zIndex=isNaN(o.zIndex)?-1:o.zIndex-1,z.style.webkitAppearance="textfield",z.style.mozAppearance="textfield",z.style.Appearance="textfield"}var i=e(t).position(),o=(t.ownerDocument.defaultView||window).getComputedStyle(t,null);t.parentNode,z=document.createElement("div"),document.body.appendChild(z);for(var s in o)isNaN(s)&&"cssText"!==s&&-1==s.indexOf("webkit")&&(z.style[s]=o[s]);t.style.backgroundColor="transparent",t.style.color="transparent",t.style.webkitAppearance="caret",t.style.mozAppearance="caret",t.style.Appearance="caret",a(),e(window).on("resize",function(){i=e(t).position(),o=(t.ownerDocument.defaultView||window).getComputedStyle(t,null),a()}),e(t).on("click",function(e){return R(t,n(e.clientX)),ee.clickEvent.call(this,[e])}),e(t).on("keydown",function(e){e.shiftKey||!1===r.insertMode||setTimeout(function(){L(t)},0)})}function L(e,t,n){function a(){o||null!==l.fn&&void 0!==c.input?o&&null!==l.fn&&void 0!==c.input&&(o=!1,i+="</span>"):(o=!0,i+="<span class='im-static''>")}if(void 0!==z){t=t||x(),void 0===n?n=R(e):void 0===n.begin&&(n={begin:n,end:n});var i="",o=!1;if(""!=t){var s,l,c,u=0,p=f();do{u===n.begin&&document.activeElement===e&&(i+="<span class='im-caret' style='border-right-width: 1px;border-right-style: solid;'></span>"),d().validPositions[u]?(c=d().validPositions[u],l=c.match,s=c.locator.slice(),a(),i+=c.input):(c=g(u,s,u-1),l=c.match,s=c.locator.slice(),(!1===r.jitMasking||u<p||"number"==typeof r.jitMasking&&isFinite(r.jitMasking)&&r.jitMasking>u)&&(a(),i+=M(u,l))),u++}while((void 0===K||u<K)&&(null!==l.fn||""!==l.def)||p>u)}z.innerHTML=i}}function B(t){function n(t,n){function a(t){function a(t){if(e.valHooks&&(void 0===e.valHooks[t]||!0!==e.valHooks[t].inputmaskpatch)){var a=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},i=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var t=a(e);return-1!==f(void 0,void 0,e.inputmask.maskset.validPositions)||!0!==n.nullable?t:""}return a(e)},set:function(t,n){var a,r=e(t);return a=i(t,n),t.inputmask&&r.trigger("setvalue"),a},inputmaskpatch:!0}}}function i(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==f()||!0!==n.nullable?document.activeElement===this&&n.clearMaskOnLostFocus?(W?F(x().slice()).reverse():F(x().slice())).join(""):s.call(this):"":s.call(this)}function r(t){l.call(this,t),this.inputmask&&e(this).trigger("setvalue")}function o(t){X.on(t,"mouseenter",function(){var t=e(this);this.inputmask._valueGet()!==x().join("")&&t.trigger("setvalue")})}var s,l;if(!t.inputmask.__valueGet){if(!0!==n.noValuePatching){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var c=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):void 0;c&&c.get&&c.set?(s=c.get,l=c.set,Object.defineProperty(t,"value",{get:i,set:r,configurable:!0})):"INPUT"!==t.tagName&&(s=function(){return this.textContent},l=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:i,set:r,configurable:!0}))}else document.__lookupGetter__&&t.__lookupGetter__("value")&&(s=t.__lookupGetter__("value"),l=t.__lookupSetter__("value"),t.__defineGetter__("value",i),t.__defineSetter__("value",r));t.inputmask.__valueGet=s,t.inputmask.__valueSet=l}t.inputmask._valueGet=function(e){return W&&!0!==e?s.call(this.el).split("").reverse().join(""):s.call(this.el)},t.inputmask._valueSet=function(e,t){l.call(this.el,null===e||void 0===e?"":!0!==t&&W?e.split("").reverse().join(""):e)},void 0===s&&(s=function(){return this.value},l=function(e){
this.value=e},a(t.type),o(t))}}var i=t.getAttribute("type"),r="INPUT"===t.tagName&&-1!==e.inArray(i,n.supportsInputType)||t.isContentEditable||"TEXTAREA"===t.tagName;if(!r)if("INPUT"===t.tagName){var o=document.createElement("input");o.setAttribute("type",i),r="text"===o.type,o=null}else r="partial";return!1!==r&&a(t),r}var a=n(t,r);if(!1!==a&&(q=t,G=e(q),("rtl"===q.dir||r.rightAlign)&&(q.style.textAlign="right"),("rtl"===q.dir||r.numericInput)&&(q.dir="ltr",q.removeAttribute("dir"),q.inputmask.isRTL=!0,W=!0),!0===r.colorMask&&N(q),c&&(q.hasOwnProperty("inputmode")&&(q.inputmode=r.inputmode,q.setAttribute("inputmode",r.inputmode)),"rtfm"===r.androidHack&&(!0!==r.colorMask&&N(q),q.type="password")),X.off(q),!0===a&&(X.on(q,"submit",ee.submitEvent),X.on(q,"reset",ee.resetEvent),X.on(q,"mouseenter",ee.mouseenterEvent),X.on(q,"blur",ee.blurEvent),X.on(q,"focus",ee.focusEvent),X.on(q,"mouseleave",ee.mouseleaveEvent),!0!==r.colorMask&&X.on(q,"click",ee.clickEvent),X.on(q,"dblclick",ee.dblclickEvent),X.on(q,"paste",ee.pasteEvent),X.on(q,"dragdrop",ee.pasteEvent),X.on(q,"drop",ee.pasteEvent),X.on(q,"cut",ee.cutEvent),X.on(q,"complete",r.oncomplete),X.on(q,"incomplete",r.onincomplete),X.on(q,"cleared",r.oncleared),c&&!0===r.inputEventOnly||(X.on(q,"keydown",ee.keydownEvent),X.on(q,"keypress",ee.keypressEvent)),X.on(q,"compositionstart",e.noop),X.on(q,"compositionupdate",e.noop),X.on(q,"compositionend",e.noop),X.on(q,"keyup",e.noop),X.on(q,"input",ee.inputFallBackEvent),X.on(q,"beforeinput",e.noop)),X.on(q,"setvalue",ee.setValueEvent),k(),""!==q.inputmask._valueGet()||!1===r.clearMaskOnLostFocus||document.activeElement===q)){var i=e.isFunction(r.onBeforeMask)?r.onBeforeMask(q.inputmask._valueGet(),r)||q.inputmask._valueGet():q.inputmask._valueGet();$(q,!0,!1,i.split(""));var o=x().slice();U=o.join(""),!1===H(o)&&r.clearIncomplete&&p(),r.clearMaskOnLostFocus&&document.activeElement!==q&&(-1===f()?o=[]:F(o)),T(q,o),document.activeElement===q&&R(q,P(f()))}}a=a||this.maskset,r=r||this.opts;var U,G,K,z,V,q=this.el,W=this.isRTL,Q=!1,Z=!1,Y=!1,J=!1,X={on:function(n,a,i){var o=function(n){if(void 0===this.inputmask&&"FORM"!==this.nodeName){var a=e.data(this,"_inputmask_opts");a?new t(a).mask(this):X.off(this)}else{if("setvalue"===n.type||"FORM"===this.nodeName||!(this.disabled||this.readOnly&&!("keydown"===n.type&&n.ctrlKey&&67===n.keyCode||!1===r.tabThrough&&n.keyCode===t.keyCode.TAB))){switch(n.type){case"input":if(!0===Z)return Z=!1,n.preventDefault();break;case"keydown":Q=!1,Z=!1;break;case"keypress":if(!0===Q)return n.preventDefault();Q=!0;break;case"click":if(s||l){var o=this,c=arguments;return setTimeout(function(){i.apply(o,c)},0),!1}}var u=i.apply(this,arguments);return!1===u&&(n.preventDefault(),n.stopPropagation()),u}n.preventDefault()}};n.inputmask.events[a]=n.inputmask.events[a]||[],n.inputmask.events[a].push(o),-1!==e.inArray(a,["submit","reset"])?null!=n.form&&e(n.form).on(a,o):e(n).on(a,o)},off:function(t,n){if(t.inputmask&&t.inputmask.events){var a;n?(a=[],a[n]=t.inputmask.events[n]):a=t.inputmask.events,e.each(a,function(n,a){for(;a.length>0;){var i=a.pop();-1!==e.inArray(n,["submit","reset"])?null!=t.form&&e(t.form).off(n,i):e(t).off(n,i)}delete t.inputmask.events[n]})}}},ee={keydownEvent:function(n){function a(e){var t=document.createElement("input"),n="on"+e,a=n in t;return a||(t.setAttribute(n,"return;"),a="function"==typeof t[n]),t=null,a}var i=this,o=e(i),s=n.keyCode,c=R(i);if(s===t.keyCode.BACKSPACE||s===t.keyCode.DELETE||l&&s===t.keyCode.BACKSPACE_SAFARI||n.ctrlKey&&s===t.keyCode.X&&!a("cut"))n.preventDefault(),D(i,s,c),T(i,x(!0),d().p,n,i.inputmask._valueGet()!==x().join("")),i.inputmask._valueGet()===k().join("")?o.trigger("cleared"):!0===H(x())&&o.trigger("complete");else if(s===t.keyCode.END||s===t.keyCode.PAGE_DOWN){n.preventDefault();var u=P(f());r.insertMode||u!==d().maskLength||n.shiftKey||u--,R(i,n.shiftKey?c.begin:u,u,!0)}else s===t.keyCode.HOME&&!n.shiftKey||s===t.keyCode.PAGE_UP?(n.preventDefault(),R(i,0,n.shiftKey?c.begin:0,!0)):(r.undoOnEscape&&s===t.keyCode.ESCAPE||90===s&&n.ctrlKey)&&!0!==n.altKey?($(i,!0,!1,U.split("")),o.trigger("click")):s!==t.keyCode.INSERT||n.shiftKey||n.ctrlKey?!0===r.tabThrough&&s===t.keyCode.TAB?(!0===n.shiftKey?(null===v(c.begin).match.fn&&(c.begin=P(c.begin)),c.end=E(c.begin,!0),c.begin=E(c.end,!0)):(c.begin=P(c.begin,!0),c.end=P(c.begin,!0),c.end<d().maskLength&&c.end--),c.begin<d().maskLength&&(n.preventDefault(),R(i,c.begin,c.end))):n.shiftKey||!1===r.insertMode&&(s===t.keyCode.RIGHT?setTimeout(function(){var e=R(i);R(i,e.begin)},0):s===t.keyCode.LEFT&&setTimeout(function(){var e=R(i);R(i,W?e.begin+1:e.begin-1)},0)):(r.insertMode=!r.insertMode,R(i,r.insertMode||c.begin!==d().maskLength?c.begin:c.begin-1));r.onKeyDown.call(this,n,x(),R(i).begin,r),Y=-1!==e.inArray(s,r.ignorables)},keypressEvent:function(n,a,i,o,s){var l=this,c=e(l),u=n.which||n.charCode||n.keyCode;if(!(!0===a||n.ctrlKey&&n.altKey)&&(n.ctrlKey||n.metaKey||Y))return u===t.keyCode.ENTER&&U!==x().join("")&&(U=x().join(""),setTimeout(function(){c.trigger("change")},0)),!0;if(u){46===u&&!1===n.shiftKey&&""!==r.radixPoint&&(u=r.radixPoint.charCodeAt(0));var f,m=a?{begin:s,end:s}:R(l),h=String.fromCharCode(u);d().writeOutBuffer=!0;var g=j(m,h,o);if(!1!==g&&(p(!0),f=void 0!==g.caret?g.caret:a?g.pos+1:P(g.pos),d().p=f),!1!==i){var v=this;if(setTimeout(function(){r.onKeyValidation.call(v,u,g,r)},0),d().writeOutBuffer&&!1!==g){var y=x();T(l,y,r.numericInput&&void 0===g.caret?E(f):f,n,!0!==a),!0!==a&&setTimeout(function(){!0===H(y)&&c.trigger("complete")},0)}}if(n.preventDefault(),a)return g.forwardPosition=f,g}},pasteEvent:function(t){var n,a=this,i=t.originalEvent||t,o=e(a),s=a.inputmask._valueGet(!0),l=R(a);W&&(n=l.end,l.end=l.begin,l.begin=n);var c=s.substr(0,l.begin),u=s.substr(l.end,s.length);if(c===(W?k().reverse():k()).slice(0,l.begin).join("")&&(c=""),u===(W?k().reverse():k()).slice(l.end).join("")&&(u=""),W&&(n=c,c=u,u=n),window.clipboardData&&window.clipboardData.getData)s=c+window.clipboardData.getData("Text")+u;else{if(!i.clipboardData||!i.clipboardData.getData)return!0;s=c+i.clipboardData.getData("text/plain")+u}var d=s;if(e.isFunction(r.onBeforePaste)){if(!1===(d=r.onBeforePaste(s,r)))return t.preventDefault();d||(d=s)}return $(a,!1,!1,W?d.split("").reverse():d.toString().split("")),T(a,x(),P(f()),t,U!==x().join("")),!0===H(x())&&o.trigger("complete"),t.preventDefault()},inputFallBackEvent:function(n){var a=this,i=a.inputmask._valueGet();if(x().join("")!==i){var r=R(a);if(i=i.replace(new RegExp("("+t.escapeRegex(k().join(""))+")*"),""),s){var o=i.replace(x().join(""),"");if(1===o.length){var l=new e.Event("keypress");return l.which=o.charCodeAt(0),ee.keypressEvent.call(a,l,!0,!0,!1,d().validPositions[r.begin-1]?r.begin:r.begin-1),!1}}if(r.begin>i.length&&(R(a,i.length),r=R(a)),x().length-i.length!=1||i.charAt(r.begin)===x()[r.begin]||i.charAt(r.begin+1)===x()[r.begin]||S(r.begin)){for(var c=f()+1,u=k().join("");null===i.match(t.escapeRegex(u)+"$");)u=u.slice(1);i=i.replace(u,""),i=i.split(""),$(a,!0,!1,i,n,r.begin<c),!0===H(x())&&e(a).trigger("complete")}else n.keyCode=t.keyCode.BACKSPACE,ee.keydownEvent.call(a,n);n.preventDefault()}},setValueEvent:function(){this.inputmask.refreshValue=!1;var t=this,n=t.inputmask._valueGet();$(t,!0,!1,(e.isFunction(r.onBeforeMask)?r.onBeforeMask(n,r)||n:n).split("")),U=x().join(""),(r.clearMaskOnLostFocus||r.clearIncomplete)&&t.inputmask._valueGet()===k().join("")&&t.inputmask._valueSet("")},focusEvent:function(e){var t=this,n=t.inputmask._valueGet();r.showMaskOnFocus&&(!r.showMaskOnHover||r.showMaskOnHover&&""===n)&&(t.inputmask._valueGet()!==x().join("")?T(t,x(),P(f())):!1===J&&R(t,P(f()))),!0===r.positionCaretOnTab&&ee.clickEvent.apply(t,[e,!0]),U=x().join("")},mouseleaveEvent:function(){var e=this;if(J=!1,r.clearMaskOnLostFocus&&document.activeElement!==e){var t=x().slice(),n=e.inputmask._valueGet();n!==e.getAttribute("placeholder")&&""!==n&&(-1===f()&&n===k().join("")?t=[]:F(t),T(e,t))}},clickEvent:function(t,n){function a(t){if(""!==r.radixPoint){var n=d().validPositions;if(void 0===n[t]||n[t].input===M(t)){if(t<P(-1))return!0;var a=e.inArray(r.radixPoint,x());if(-1!==a){for(var i in n)if(a<i&&n[i].input!==M(i))return!1;return!0}}}return!1}var i=this;setTimeout(function(){if(document.activeElement===i){var t=R(i);if(n&&(t.begin=t.end),t.begin===t.end)switch(r.positionCaretOnClick){case"none":break;case"radixFocus":if(a(t.begin)){var o=e.inArray(r.radixPoint,x().join(""));R(i,r.numericInput?P(o):o);break}default:var s=t.begin,l=f(s,!0),c=P(l);if(s<c)R(i,S(s)||S(s-1)?s:P(s));else{var u=M(c);(""!==u&&x()[c]!==u&&!0!==v(c).match.optionalQuantifier||!S(c)&&v(c).match.def===u)&&(c=P(c)),R(i,c)}}}},0)},dblclickEvent:function(){var e=this;setTimeout(function(){R(e,0,P(f()))},0)},cutEvent:function(n){var a=this,i=e(a),r=R(a),o=n.originalEvent||n,s=window.clipboardData||o.clipboardData,l=W?x().slice(r.end,r.begin):x().slice(r.begin,r.end);s.setData("text",W?l.reverse().join(""):l.join("")),document.execCommand&&document.execCommand("copy"),D(a,t.keyCode.DELETE,r),T(a,x(),d().p,n,U!==x().join("")),a.inputmask._valueGet()===k().join("")&&i.trigger("cleared")},blurEvent:function(t){var n=e(this),a=this;if(a.inputmask){var i=a.inputmask._valueGet(),o=x().slice();U!==o.join("")&&setTimeout(function(){n.trigger("change"),U=o.join("")},0),""!==i&&(r.clearMaskOnLostFocus&&(-1===f()&&i===k().join("")?o=[]:F(o)),!1===H(o)&&(setTimeout(function(){n.trigger("incomplete")},0),r.clearIncomplete&&(p(),o=r.clearMaskOnLostFocus?[]:k().slice())),T(a,o,void 0,t))}},mouseenterEvent:function(){var e=this;J=!0,document.activeElement!==e&&r.showMaskOnHover&&e.inputmask._valueGet()!==x().join("")&&T(e,x())},submitEvent:function(){U!==x().join("")&&G.trigger("change"),r.clearMaskOnLostFocus&&-1===f()&&q.inputmask._valueGet&&q.inputmask._valueGet()===k().join("")&&q.inputmask._valueSet(""),r.removeMaskOnSubmit&&(q.inputmask._valueSet(q.inputmask.unmaskedvalue(),!0),setTimeout(function(){T(q,x())},0))},resetEvent:function(){q.inputmask.refreshValue=!0,setTimeout(function(){G.trigger("setvalue")},0)}};if(void 0!==n)switch(n.action){case"isComplete":return q=n.el,H(x());case"unmaskedvalue":return void 0!==q&&void 0===n.value||(V=n.value,V=(e.isFunction(r.onBeforeMask)?r.onBeforeMask(V,r)||V:V).split(""),$(void 0,!1,!1,W?V.reverse():V),e.isFunction(r.onBeforeWrite)&&r.onBeforeWrite(void 0,x(),0,r)),O(q);case"mask":B(q);break;case"format":return V=(e.isFunction(r.onBeforeMask)?r.onBeforeMask(n.value,r)||n.value:n.value).split(""),$(void 0,!1,!1,W?V.reverse():V),e.isFunction(r.onBeforeWrite)&&r.onBeforeWrite(void 0,x(),0,r),n.metadata?{value:W?x().slice().reverse().join(""):x().join(""),metadata:i.call(this,{action:"getmetadata"},a,r)}:W?x().slice().reverse().join(""):x().join("");case"isValid":n.value?(V=n.value.split(""),$(void 0,!1,!0,W?V.reverse():V)):n.value=x().join("");for(var te=x(),ne=I(),ae=te.length-1;ae>ne&&!S(ae);ae--);return te.splice(ne,ae+1-ne),H(te)&&n.value===x().join("");case"getemptymask":return k().join("");case"remove":if(q){G=e(q),q.inputmask._valueSet(O(q)),X.off(q);Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(q),"value")&&q.inputmask.__valueGet&&Object.defineProperty(q,"value",{get:q.inputmask.__valueGet,set:q.inputmask.__valueSet,configurable:!0}):document.__lookupGetter__&&q.__lookupGetter__("value")&&q.inputmask.__valueGet&&(q.__defineGetter__("value",q.inputmask.__valueGet),q.__defineSetter__("value",q.inputmask.__valueSet)),q.inputmask=void 0}return q;case"getmetadata":if(e.isArray(a.metadata)){var ie=u(!0,0,!1).join("");return e.each(a.metadata,function(e,t){if(t.mask===ie)return ie=t,!1}),ie}return a.metadata}}var r=navigator.userAgent,o=/mobile/i.test(r),s=/iemobile/i.test(r),l=/iphone/i.test(r)&&!s,c=/android/i.test(r)&&!s;t.prototype={dataAttribute:"data-inputmask",defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,alias:null,onKeyDown:e.noop,onBeforeMask:null,onBeforePaste:function(t,n){return e.isFunction(n.onBeforeMask)?n.onBeforeMask(t,n):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixPointDefinitionSymbol:void 0,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","password"],ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,canClearPosition:e.noop,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"verbatim",colorMask:!1,androidHack:!1},definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",cardinality:1}},aliases:{},masksCache:{},mask:function(r){function o(t,a,i,r){function o(e,n){null!==(n=void 0!==n?n:t.getAttribute(r+"-"+e))&&("string"==typeof n&&(0===e.indexOf("on")?n=window[n]:"false"===n?n=!1:"true"===n&&(n=!0)),i[e]=n)}var s,l,c,u,d=t.getAttribute(r);if(d&&""!==d&&(d=d.replace(new RegExp("'","g"),'"'),l=JSON.parse("{"+d+"}")),l){c=void 0;for(u in l)if("alias"===u.toLowerCase()){c=l[u];break}}o("alias",c),i.alias&&n(i.alias,i,a);for(s in a){if(l){c=void 0;for(u in l)if(u.toLowerCase()===s.toLowerCase()){c=l[u];break}}o(s,c)}return e.extend(!0,a,i),a}var s=this;return"string"==typeof r&&(r=document.getElementById(r)||document.querySelectorAll(r)),r=r.nodeName?[r]:r,e.each(r,function(n,r){var l=e.extend(!0,{},s.opts);o(r,l,e.extend(!0,{},s.userOptions),s.dataAttribute);var c=a(l,s.noMasksCache);void 0!==c&&(void 0!==r.inputmask&&r.inputmask.remove(),r.inputmask=new t(void 0,void 0,!0),r.inputmask.opts=l,r.inputmask.noMasksCache=s.noMasksCache,r.inputmask.userOptions=e.extend(!0,{},s.userOptions),r.inputmask.isRTL=s.isRTL,r.inputmask.el=r,r.inputmask.maskset=c,e.data(r,"_inputmask_opts",l),i.call(r.inputmask,{action:"mask"}))}),r&&r[0]?r[0].inputmask||this:this},option:function(t,n){return"string"==typeof t?this.opts[t]:"object"==typeof t?(e.extend(this.userOptions,t),this.el&&!0!==n&&this.mask(this.el),this):void 0},unmaskedvalue:function(e){return this.maskset=this.maskset||a(this.opts,this.noMasksCache),i.call(this,{action:"unmaskedvalue",value:e})},remove:function(){return i.call(this,{action:"remove"})},getemptymask:function(){return this.maskset=this.maskset||a(this.opts,this.noMasksCache),i.call(this,{action:"getemptymask"})},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||a(this.opts,this.noMasksCache),i.call(this,{action:"isComplete"})},getmetadata:function(){return this.maskset=this.maskset||a(this.opts,this.noMasksCache),i.call(this,{action:"getmetadata"})},isValid:function(e){return this.maskset=this.maskset||a(this.opts,this.noMasksCache),i.call(this,{action:"isValid",value:e})},format:function(e,t){return this.maskset=this.maskset||a(this.opts,this.noMasksCache),i.call(this,{action:"format",value:e,metadata:t})},analyseMask:function(n,a){function i(e,t,n,a){this.matches=[],this.openGroup=e||!1,this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=n||!1,this.isAlternator=a||!1,this.quantifier={min:1,max:1}}function r(e,n,i){var r=(a.definitions?a.definitions[n]:void 0)||t.prototype.definitions[n];i=void 0!==i?i:e.matches.length;var o=e.matches[i-1];if(r&&!v){for(var s=r.prevalidator,l=s?s.length:0,c=1;c<r.cardinality;c++){var u=l>=c?s[c-1]:[],d=u.validator,p=u.cardinality;e.matches.splice(i++,0,{fn:d?"string"==typeof d?new RegExp(d):new function(){this.test=d}:new RegExp("."),cardinality:p||1,optionality:e.isOptional,newBlockMarker:void 0===o||o.def!==(r.definitionSymbol||n),casing:r.casing,def:r.definitionSymbol||n,placeholder:r.placeholder,nativeDef:n}),o=e.matches[i-1]}e.matches.splice(i++,0,{fn:r.validator?"string"==typeof r.validator?new RegExp(r.validator):new function(){this.test=r.validator}:new RegExp("."),cardinality:r.cardinality,optionality:e.isOptional,newBlockMarker:void 0===o||o.def!==(r.definitionSymbol||n),casing:r.casing,def:r.definitionSymbol||n,placeholder:r.placeholder,nativeDef:n})}else e.matches.splice(i++,0,{fn:null,cardinality:0,optionality:e.isOptional,newBlockMarker:void 0===o||o.def!==n,casing:null,def:a.staticDefinitionSymbol||n,placeholder:void 0!==a.staticDefinitionSymbol?n:void 0,nativeDef:n}),v=!1}function o(t){t&&t.matches&&e.each(t.matches,function(e,n){var i=t.matches[e+1];(void 0===i||void 0===i.matches||!1===i.isQuantifier)&&n&&n.isGroup&&(n.isGroup=!1,r(n,a.groupmarker.start,0),!0!==n.openGroup&&r(n,a.groupmarker.end)),o(n)})}function s(){if(b.length>0){if(p=b[b.length-1],r(p,u),p.isAlternator){f=b.pop();for(var e=0;e<f.matches.length;e++)f.matches[e].isGroup=!1;b.length>0?(p=b[b.length-1],p.matches.push(f)):y.matches.push(f)}}else r(y,u)}function l(e){function t(e){return e===a.optionalmarker.start?e=a.optionalmarker.end:e===a.optionalmarker.end?e=a.optionalmarker.start:e===a.groupmarker.start?e=a.groupmarker.end:e===a.groupmarker.end&&(e=a.groupmarker.start),e}e.matches=e.matches.reverse();for(var n in e.matches)if(e.matches.hasOwnProperty(n)){var i=parseInt(n);if(e.matches[n].isQuantifier&&e.matches[i+1]&&e.matches[i+1].isGroup){var r=e.matches[n];e.matches.splice(n,1),e.matches.splice(i+1,0,r)}void 0!==e.matches[n].matches?e.matches[n]=l(e.matches[n]):e.matches[n]=t(e.matches[n])}return e}for(var c,u,d,p,f,m,h,g=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,v=!1,y=new i,b=[],k=[];c=g.exec(n);)if(u=c[0],v)s();else switch(u.charAt(0)){case a.escapeChar:v=!0;break;case a.optionalmarker.end:case a.groupmarker.end:if(d=b.pop(),d.openGroup=!1,void 0!==d)if(b.length>0){if(p=b[b.length-1],p.matches.push(d),p.isAlternator){f=b.pop();for(var x=0;x<f.matches.length;x++)f.matches[x].isGroup=!1;b.length>0?(p=b[b.length-1],p.matches.push(f)):y.matches.push(f)}}else y.matches.push(d);else s();break;case a.optionalmarker.start:b.push(new i(!1,!0));break;case a.groupmarker.start:b.push(new i(!0));break;case a.quantifiermarker.start:var w=new i(!1,!1,!0);u=u.replace(/[{}]/g,"");var C=u.split(","),_=isNaN(C[0])?C[0]:parseInt(C[0]),j=1===C.length?_:isNaN(C[1])?C[1]:parseInt(C[1]);if("*"!==j&&"+"!==j||(_="*"===j?0:1),w.quantifier={min:_,max:j},b.length>0){var S=b[b.length-1].matches;c=S.pop(),c.isGroup||(h=new i(!0),h.matches.push(c),c=h),S.push(c),S.push(w)}else c=y.matches.pop(),c.isGroup||(h=new i(!0),h.matches.push(c),c=h),y.matches.push(c),y.matches.push(w);break;case a.alternatormarker:b.length>0?(p=b[b.length-1],m=p.matches.pop()):m=y.matches.pop(),m.isAlternator?b.push(m):(f=new i(!1,!1,!1,!0),f.matches.push(m),b.push(f));break;default:s()}for(;b.length>0;)d=b.pop(),y.matches.push(d);return y.matches.length>0&&(o(y),k.push(y)),a.numericInput&&l(k[0]),k}},t.extendDefaults=function(n){e.extend(!0,t.prototype.defaults,n)},t.extendDefinitions=function(n){e.extend(!0,t.prototype.definitions,n)},t.extendAliases=function(n){e.extend(!0,t.prototype.aliases,n)},t.format=function(e,n,a){return t(n).format(e,a)},t.unmask=function(e,n){return t(n).unmaskedvalue(e)},t.isValid=function(e,n){return t(n).isValid(e)},t.remove=function(t){e.each(t,function(e,t){t.inputmask&&t.inputmask.remove()})},t.escapeRegex=function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},t.keyCode={ALT:18,BACKSPACE:8,BACKSPACE_SAFARI:127,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91,X:88},window.Inputmask=t}(jQuery),function(e,t){void 0===e.fn.inputmask&&(e.fn.inputmask=function(n,a){var i,r=this[0];if(void 0===a&&(a={}),"string"==typeof n)switch(n){case"unmaskedvalue":return r&&r.inputmask?r.inputmask.unmaskedvalue():e(r).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return r&&r.inputmask?r.inputmask.getemptymask():"";case"hasMaskedValue":return!(!r||!r.inputmask)&&r.inputmask.hasMaskedValue();case"isComplete":return!r||!r.inputmask||r.inputmask.isComplete();case"getmetadata":return r&&r.inputmask?r.inputmask.getmetadata():void 0;case"setvalue":e(r).val(a),r&&void 0===r.inputmask&&e(r).triggerHandler("setvalue");break;case"option":if("string"!=typeof a)return this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(a)});if(r&&void 0!==r.inputmask)return r.inputmask.option(a);break;default:return a.alias=n,i=new t(a),this.each(function(){i.mask(this)})}else{if("object"==typeof n)return i=new t(n),void 0===n.mask&&void 0===n.alias?this.each(function(){return void 0!==this.inputmask?this.inputmask.option(n):void i.mask(this)}):this.each(function(){i.mask(this)});if(void 0===n)return this.each(function(){i=new t(a),i.mask(this)})}}),e.fn.inputmask}(jQuery,Inputmask),jQuery,Inputmask,function(e,t){function n(e){return isNaN(e)||29===new Date(e,2,0).getDate()}t.extendAliases({"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+n+"[01])")},val2:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|[12][0-9])"+n+"(0[1-9]|1[012]))|(30"+n+"(0[13-9]|1[012]))|(31"+n+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(e,t,n){if(isNaN(e))return!1;var a=parseInt(e.concat(t.toString().slice(e.length))),i=parseInt(e.concat(n.toString().slice(e.length)));return!isNaN(a)&&t<=a&&a<=n||!isNaN(i)&&t<=i&&i<=n},determinebaseyear:function(e,t,n){var a=(new Date).getFullYear();if(e>a)return e;if(t<a){for(var i=t.toString().slice(0,2),r=t.toString().slice(2,4);t<i+n;)i--;var o=i+r;return e>o?e:o}if(e<=a&&a<=t){for(var s=a.toString().slice(0,2);t<s+n;)s--;var l=s+n;return l<e?e:l}return a},onKeyDown:function(n){var a=e(this);if(n.ctrlKey&&n.keyCode===t.keyCode.RIGHT){var i=new Date;a.val(i.getDate().toString()+(i.getMonth()+1).toString()+i.getFullYear().toString()),a.trigger("setvalue")}},getFrontValue:function(e,t,n){for(var a=0,i=0,r=0;r<e.length&&"2"!==e.charAt(r);r++){var o=n.definitions[e.charAt(r)];o?(a+=i,i=o.cardinality):i++}return t.join("").substr(a,i)},postValidation:function(e,t,a){var i,r,o=e.join("");return 0===a.mask.indexOf("y")?(r=o.substr(0,4),i=o.substr(4,11)):(r=o.substr(6,11),i=o.substr(0,6)),t&&(i!==a.leapday||n(r))},definitions:{1:{validator:function(e,t,n,a,i){var r=i.regex.val1.test(e);return a||r||e.charAt(1)!==i.separator&&-1==="-./".indexOf(e.charAt(1))||!(r=i.regex.val1.test("0"+e.charAt(0)))?r:(t.buffer[n-1]="0",{refreshFromBuffer:{start:n-1,end:n},pos:n,c:e.charAt(0)})},cardinality:2,prevalidator:[{validator:function(e,t,n,a,i){var r=e;isNaN(t.buffer[n+1])||(r+=t.buffer[n+1]);var o=1===r.length?i.regex.val1pre.test(r):i.regex.val1.test(r);if(!a&&!o){if(o=i.regex.val1.test(e+"0"))return t.buffer[n]=e,t.buffer[++n]="0",{pos:n,c:"0"};if(o=i.regex.val1.test("0"+e))return t.buffer[n]="0",n++,{pos:n}}return o},cardinality:1}]},2:{validator:function(e,t,n,a,i){var r=i.getFrontValue(t.mask,t.buffer,i);-1!==r.indexOf(i.placeholder[0])&&(r="01"+i.separator);var o=i.regex.val2(i.separator).test(r+e);return a||o||e.charAt(1)!==i.separator&&-1==="-./".indexOf(e.charAt(1))||!(o=i.regex.val2(i.separator).test(r+"0"+e.charAt(0)))?o:(t.buffer[n-1]="0",{refreshFromBuffer:{start:n-1,end:n},pos:n,c:e.charAt(0)})},cardinality:2,prevalidator:[{validator:function(e,t,n,a,i){isNaN(t.buffer[n+1])||(e+=t.buffer[n+1]);var r=i.getFrontValue(t.mask,t.buffer,i);-1!==r.indexOf(i.placeholder[0])&&(r="01"+i.separator);var o=1===e.length?i.regex.val2pre(i.separator).test(r+e):i.regex.val2(i.separator).test(r+e);return a||o||!(o=i.regex.val2(i.separator).test(r+"0"+e))?o:(t.buffer[n]="0",n++,{pos:n})},cardinality:1}]},y:{validator:function(e,t,n,a,i){return i.isInYearRange(e,i.yearrange.minyear,i.yearrange.maxyear)},cardinality:4,prevalidator:[{validator:function(e,t,n,a,i){var r=i.isInYearRange(e,i.yearrange.minyear,i.yearrange.maxyear);if(!a&&!r){var o=i.determinebaseyear(i.yearrange.minyear,i.yearrange.maxyear,e+"0").toString().slice(0,1);if(r=i.isInYearRange(o+e,i.yearrange.minyear,i.yearrange.maxyear))return t.buffer[n++]=o.charAt(0),{pos:n};if(o=i.determinebaseyear(i.yearrange.minyear,i.yearrange.maxyear,e+"0").toString().slice(0,2),r=i.isInYearRange(o+e,i.yearrange.minyear,i.yearrange.maxyear))return t.buffer[n++]=o.charAt(0),t.buffer[n++]=o.charAt(1),{pos:n}}return r},cardinality:1},{validator:function(e,t,n,a,i){var r=i.isInYearRange(e,i.yearrange.minyear,i.yearrange.maxyear);if(!a&&!r){var o=i.determinebaseyear(i.yearrange.minyear,i.yearrange.maxyear,e).toString().slice(0,2);if(r=i.isInYearRange(e[0]+o[1]+e[1],i.yearrange.minyear,i.yearrange.maxyear))return t.buffer[n++]=o.charAt(1),{pos:n};if(o=i.determinebaseyear(i.yearrange.minyear,i.yearrange.maxyear,e).toString().slice(0,2),r=i.isInYearRange(o+e,i.yearrange.minyear,i.yearrange.maxyear))return t.buffer[n-1]=o.charAt(0),t.buffer[n++]=o.charAt(1),t.buffer[n++]=e.charAt(0),{refreshFromBuffer:{start:n-3,end:n},pos:n}}return r},cardinality:2},{validator:function(e,t,n,a,i){return i.isInYearRange(e,i.yearrange.minyear,i.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[13-9]|1[012])"+n+"[0-3])|(02"+n+"[0-2])")},val2:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+n+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+n+"30)|((0[13578]|1[02])"+n+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(n){var a=e(this);if(n.ctrlKey&&n.keyCode===t.keyCode.RIGHT){var i=new Date;a.val((i.getMonth()+1).toString()+i.getDate().toString()+i.getFullYear().toString()),a.trigger("setvalue")}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyDown:function(n){var a=e(this);if(n.ctrlKey&&n.keyCode===t.keyCode.RIGHT){var i=new Date;a.val(i.getFullYear().toString()+(i.getMonth()+1).toString()+i.getDate().toString()),a.trigger("setvalue")}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(e,t,n,a,i){if("24"===i.hourFormat&&24===parseInt(e,10))return t.buffer[n-1]="0",t.buffer[n]="0",{refreshFromBuffer:{start:n-1,end:n},c:"0"};var r=i.regex.hrs.test(e);if(!a&&!r&&(e.charAt(1)===i.timeseparator||-1!=="-.:".indexOf(e.charAt(1)))&&(r=i.regex.hrs.test("0"+e.charAt(0))))return t.buffer[n-1]="0",t.buffer[n]=e.charAt(0),n++,{refreshFromBuffer:{start:n-2,end:n},pos:n,c:i.timeseparator};if(r&&"24"!==i.hourFormat&&i.regex.hrs24.test(e)){var o=parseInt(e,10);return 24===o?(t.buffer[n+5]="a",t.buffer[n+6]="m"):(t.buffer[n+5]="p",t.buffer[n+6]="m"),o-=12,o<10?(t.buffer[n]=o.toString(),t.buffer[n-1]="0"):(t.buffer[n]=o.toString().charAt(1),t.buffer[n-1]=o.toString().charAt(0)),{refreshFromBuffer:{start:n-1,end:n+6},c:t.buffer[n]}}return r},cardinality:2,prevalidator:[{validator:function(e,t,n,a,i){var r=i.regex.hrspre.test(e);return a||r||!(r=i.regex.hrs.test("0"+e))?r:(t.buffer[n]="0",n++,{pos:n})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(e,t,n,a,i){var r=i.regex.mspre.test(e);return a||r||!(r=i.regex.ms.test("0"+e))?r:(t.buffer[n]="0",n++,{pos:n})},cardinality:1}]},t:{validator:function(e,t,n,a,i){return i.regex.ampm.test(e+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"mm/dd/yyyy hh:mm xm":{mask:"1/2/y h:s t\\m",placeholder:"mm/dd/yyyy hh:mm xm",alias:"datetime12",regex:{val2pre:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[13-9]|1[012])"+n+"[0-3])|(02"+n+"[0-2])")},val2:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+n+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+n+"30)|((0[13578]|1[02])"+n+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(n){var a=e(this);if(n.ctrlKey&&n.keyCode===t.keyCode.RIGHT){var i=new Date;a.val((i.getMonth()+1).toString()+i.getDate().toString()+i.getFullYear().toString()),a.trigger("setvalue")}}},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"},shamsi:{regex:{val2pre:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+n+"[0-3])")},val2:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+n+"(0[1-9]|[12][0-9]))|((0[1-9]|1[012])"+n+"30)|((0[1-6])"+n+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},yearrange:{minyear:1300,maxyear:1499},mask:"y/1/2",leapday:"/12/30",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",clearIncomplete:!0},"yyyy-mm-dd hh:mm:ss":{mask:"y-1-2 h:s:s",placeholder:"yyyy-mm-dd hh:mm:ss",alias:"datetime",separator:"-",leapday:"-02-29",regex:{val2pre:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[13-9]|1[012])"+n+"[0-3])|(02"+n+"[0-2])")},val2:function(e){var n=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+n+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+n+"30)|((0[13578]|1[02])"+n+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},onKeyDown:function(){}}})}(jQuery,Inputmask),function(e,t){t.extendDefinitions({A:{validator:"[A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",cardinality:1,casing:"upper"},"&":{validator:"[0-9A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Fa-f]",cardinality:1,casing:"upper"}}),t.extendAliases({url:{definitions:{i:{validator:".",cardinality:1}},mask:"(\\http://)|(\\http\\s://)|(ftp://)|(ftp\\s://)i{+}",insertMode:!1,autoUnmask:!1,inputmode:"url"},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(e,t,n){return n-1>-1&&"."!==t.buffer[n-1]?(e=t.buffer[n-1]+e,e=n-2>-1&&"."!==t.buffer[n-2]?t.buffer[n-2]+e:"0"+e):e="00"+e,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(e)},cardinality:1}},onUnMask:function(e){return e},inputmode:"numeric"},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,onBeforePaste:function(e){return e=e.toLowerCase(),e.replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"},"-":{validator:"[0-9A-Za-z-]",cardinality:1,casing:"lower"}},onUnMask:function(e){return e},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",cardinality:1,casing:"upper"}},clearIncomplete:!0,
autoUnmask:!0}})}(jQuery,Inputmask),function(e,t){t.extendAliases({numeric:{mask:function(e){function n(t){for(var n="",a=0;a<t.length;a++)n+=e.definitions[t.charAt(a)]||e.optionalmarker.start===t.charAt(a)||e.optionalmarker.end===t.charAt(a)||e.quantifiermarker.start===t.charAt(a)||e.quantifiermarker.end===t.charAt(a)||e.groupmarker.start===t.charAt(a)||e.groupmarker.end===t.charAt(a)||e.alternatormarker===t.charAt(a)?"\\"+t.charAt(a):t.charAt(a);return n}if(0!==e.repeat&&isNaN(e.integerDigits)&&(e.integerDigits=e.repeat),e.repeat=0,e.groupSeparator===e.radixPoint&&("."===e.radixPoint?e.groupSeparator=",":","===e.radixPoint?e.groupSeparator=".":e.groupSeparator="")," "===e.groupSeparator&&(e.skipOptionalPartCharacter=void 0),e.autoGroup=e.autoGroup&&""!==e.groupSeparator,e.autoGroup&&("string"==typeof e.groupSize&&isFinite(e.groupSize)&&(e.groupSize=parseInt(e.groupSize)),isFinite(e.integerDigits))){var a=Math.floor(e.integerDigits/e.groupSize),i=e.integerDigits%e.groupSize;e.integerDigits=parseInt(e.integerDigits)+(0===i?a-1:a),e.integerDigits<1&&(e.integerDigits="*")}e.placeholder.length>1&&(e.placeholder=e.placeholder.charAt(0)),"radixFocus"===e.positionCaretOnClick&&""===e.placeholder&&!1===e.integerOptional&&(e.positionCaretOnClick="lvp"),e.definitions[";"]=e.definitions["~"],e.definitions[";"].definitionSymbol="~",!0===e.numericInput&&(e.positionCaretOnClick="radixFocus"===e.positionCaretOnClick?"lvp":e.positionCaretOnClick,e.digitsOptional=!1,isNaN(e.digits)&&(e.digits=2),e.decimalProtect=!1);var r="[+]";if(r+=n(e.prefix),r+=!0===e.integerOptional?"~{1,"+e.integerDigits+"}":"~{"+e.integerDigits+"}",void 0!==e.digits){e.radixPointDefinitionSymbol=e.decimalProtect?":":e.radixPoint;var o=e.digits.toString().split(",");isFinite(o[0]&&o[1]&&isFinite(o[1]))?r+=e.radixPointDefinitionSymbol+";{"+e.digits+"}":(isNaN(e.digits)||parseInt(e.digits)>0)&&(r+=e.digitsOptional?"["+e.radixPointDefinitionSymbol+";{1,"+e.digits+"}]":e.radixPointDefinitionSymbol+";{"+e.digits+"}")}return r+=n(e.suffix),r+="[-]",e.greedy=!1,null!==e.min&&(e.min=e.min.toString().replace(new RegExp(t.escapeRegex(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.min=e.min.replace(e.radixPoint,"."))),null!==e.max&&(e.max=e.max.toString().replace(new RegExp(t.escapeRegex(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.max=e.max.replace(e.radixPoint,"."))),r},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,radixPoint:".",positionCaretOnClick:"radixFocus",groupSize:3,groupSeparator:"",autoGroup:!1,allowPlus:!0,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,inputmode:"numeric",postFormat:function(n,a,i){!0===i.numericInput&&(n=n.reverse(),isFinite(a)&&(a=n.join("").length-a-1));var r,o;a=a>=n.length?n.length-1:a<0?0:a;var s=n[a],l=n.slice();s===i.groupSeparator&&a>i.prefix.length&&a<n.length-i.suffix.length&&(l.splice(a--,1),s=l[a]);var c=l.join("").match(new RegExp("^"+t.escapeRegex(i.negationSymbol.front)));c=null!==c&&1===c.length,a>(c?i.negationSymbol.front.length:0)+i.prefix.length&&a<l.length-i.suffix.length&&(l[a]="!");var u=l.join(""),d=l.join();if(c&&(u=u.replace(new RegExp("^"+t.escapeRegex(i.negationSymbol.front)),""),u=u.replace(new RegExp(t.escapeRegex(i.negationSymbol.back)+"$"),"")),u=u.replace(new RegExp(t.escapeRegex(i.suffix)+"$"),""),u=u.replace(new RegExp("^"+t.escapeRegex(i.prefix)),""),u.length>0&&i.autoGroup||-1!==u.indexOf(i.groupSeparator)){var p=t.escapeRegex(i.groupSeparator);u=u.replace(new RegExp(p,"g"),"");var f=u.split(s===i.radixPoint?"!":i.radixPoint);if(u=""===i.radixPoint?u:f[0],s!==i.negationSymbol.front&&(u=u.replace("!","?")),u.length>i.groupSize)for(var m=new RegExp("([-+]?[\\d?]+)([\\d?]{"+i.groupSize+"})");m.test(u)&&""!==i.groupSeparator;)u=u.replace(m,"$1"+i.groupSeparator+"$2"),u=u.replace(i.groupSeparator+i.groupSeparator,i.groupSeparator);u=u.replace("?","!"),""!==i.radixPoint&&f.length>1&&(u+=(s===i.radixPoint?"!":i.radixPoint)+f[1])}u=i.prefix+u+i.suffix,c&&(u=i.negationSymbol.front+u+i.negationSymbol.back);var h=d!==u.split("").join(),g=e.inArray("!",u);if(-1===g&&(g=a),h){for(n.length=u.length,r=0,o=u.length;r<o;r++)n[r]=u.charAt(r);n[g]=s}return g=i.numericInput&&isFinite(a)?n.join("").length-g-1:g,i.numericInput&&(n=n.reverse(),e.inArray(i.radixPoint,n)<g&&n.join("").length-i.suffix.length!==g&&(g-=1)),{pos:g,refreshFromBuffer:h,buffer:n,isNegative:c}},onBeforeWrite:function(n,a,i,r){var o;if(n&&("blur"===n.type||"checkval"===n.type||"keydown"===n.type)){var s=r.numericInput?a.slice().reverse().join(""):a.join(""),l=s.replace(r.prefix,"");l=l.replace(r.suffix,""),l=l.replace(new RegExp(t.escapeRegex(r.groupSeparator),"g"),""),","===r.radixPoint&&(l=l.replace(r.radixPoint,"."));var c=l.match(new RegExp("[-"+t.escapeRegex(r.negationSymbol.front)+"]","g"));if(c=null!==c&&1===c.length,l=l.replace(new RegExp("[-"+t.escapeRegex(r.negationSymbol.front)+"]","g"),""),l=l.replace(new RegExp(t.escapeRegex(r.negationSymbol.back)+"$"),""),isNaN(r.placeholder)&&(l=l.replace(new RegExp(t.escapeRegex(r.placeholder),"g"),"")),""!==(l=l===r.negationSymbol.front?l+"0":l)&&isFinite(l)){var u=parseFloat(l),d=c?-1*u:u;if("blur"===n.type&&(null!==r.min&&isFinite(r.min)&&d<parseFloat(r.min)?(u=Math.abs(r.min),c=r.min<0,s=void 0):null!==r.max&&isFinite(r.max)&&d>parseFloat(r.max)&&(u=Math.abs(r.max),c=r.max<0,s=void 0)),l=u.toString().replace(".",r.radixPoint).split(""),isFinite(r.digits)){var p=e.inArray(r.radixPoint,l),f=e.inArray(r.radixPoint,s);-1===p&&(l.push(r.radixPoint),p=l.length-1);for(var m=1;m<=r.digits;m++)r.digitsOptional||void 0!==l[p+m]&&l[p+m]!==r.placeholder.charAt(0)?-1!==f&&void 0!==s[f+m]&&(l[p+m]=l[p+m]||s[f+m]):l[p+m]="0";l[l.length-1]===r.radixPoint&&delete l[l.length-1]}if(u.toString()!==l&&u.toString()+"."!==l||c)return l=(r.prefix+l.join("")).split(""),!c||0===u&&"blur"===n.type||(l.unshift(r.negationSymbol.front),l.push(r.negationSymbol.back)),r.numericInput&&(l=l.reverse()),o=r.postFormat(l,r.numericInput?i:i-1,r),o.buffer&&(o.refreshFromBuffer=o.buffer.join("")!==a.join("")),o}}if(r.autoGroup)return o=r.postFormat(a,r.numericInput?i:i-1,r),o.caret=i<(o.isNegative?r.negationSymbol.front.length:0)+r.prefix.length||i>o.buffer.length-(o.isNegative?r.negationSymbol.back.length:0)?o.pos:o.pos+1,o},regex:{integerPart:function(e){return new RegExp("["+t.escapeRegex(e.negationSymbol.front)+"+]?\\d+")},integerNPart:function(e){return new RegExp("[\\d"+t.escapeRegex(e.groupSeparator)+t.escapeRegex(e.placeholder.charAt(0))+"]+")}},signHandler:function(e,t,n,a,i){if(!a&&i.allowMinus&&"-"===e||i.allowPlus&&"+"===e){var r=t.buffer.join("").match(i.regex.integerPart(i));if(r&&r[0].length>0)return t.buffer[r.index]===("-"===e?"+":i.negationSymbol.front)?"-"===e?""!==i.negationSymbol.back?{pos:0,c:i.negationSymbol.front,remove:0,caret:n,insert:{pos:t.buffer.length-1,c:i.negationSymbol.back}}:{pos:0,c:i.negationSymbol.front,remove:0,caret:n}:""!==i.negationSymbol.back?{pos:0,c:"+",remove:[0,t.buffer.length-1],caret:n}:{pos:0,c:"+",remove:0,caret:n}:t.buffer[0]===("-"===e?i.negationSymbol.front:"+")?"-"===e&&""!==i.negationSymbol.back?{remove:[0,t.buffer.length-1],caret:n-1}:{remove:0,caret:n-1}:"-"===e?""!==i.negationSymbol.back?{pos:0,c:i.negationSymbol.front,caret:n+1,insert:{pos:t.buffer.length,c:i.negationSymbol.back}}:{pos:0,c:i.negationSymbol.front,caret:n+1}:{pos:0,c:e,caret:n+1}}return!1},radixHandler:function(t,n,a,i,r){if(!i&&!0!==r.numericInput&&t===r.radixPoint&&void 0!==r.digits&&(isNaN(r.digits)||parseInt(r.digits)>0)){var o=e.inArray(r.radixPoint,n.buffer),s=n.buffer.join("").match(r.regex.integerPart(r));if(-1!==o&&n.validPositions[o])return n.validPositions[o-1]?{caret:o+1}:{pos:s.index,c:s[0],caret:o+1};if(!s||"0"===s[0]&&s.index+1!==a)return n.buffer[s?s.index:a]="0",{pos:(s?s.index:a)+1,c:r.radixPoint}}return!1},leadingZeroHandler:function(t,n,a,i,r,o){if(!i){var s=a,l=!0===r.numericInput?n.buffer.slice("").reverse():n.buffer.slice("");r.numericInput&&(a=l.join("").length-a-1),l.splice(0,r.prefix.length),l.splice(l.length-r.suffix.length,r.suffix.length),a-=r.prefix.length;var c=e.inArray(r.radixPoint,l),u=l.slice(0,-1!==c?c:void 0).join("").match(r.regex.integerNPart(r));if(u&&(-1===c||a<=c||r.numericInput)){var d=-1===c?0:parseInt(l.slice(c+1).join("")),p=0===u[0].indexOf(""!==r.placeholder?r.placeholder.charAt(0):"0");if(r.numericInput){if(p&&0!==d&&!0!==o)return n.buffer.splice(l.length-u.index-1+r.suffix.length,1),{pos:s,remove:l.length-u.index-1+r.suffix.length}}else{if(p&&(u.index+1===a||!0!==o&&0===d))return n.buffer.splice(u.index+r.prefix.length,1),{pos:u.index+r.prefix.length,remove:u.index+r.prefix.length};if("0"===t&&a<=u.index&&u[0]!==r.groupSeparator)return!1}}}return!0},definitions:{"~":{validator:function(n,a,i,r,o,s){var l=o.signHandler(n,a,i,r,o);if(!l&&!(l=o.radixHandler(n,a,i,r,o))&&!0===(l=r?new RegExp("[0-9"+t.escapeRegex(o.groupSeparator)+"]").test(n):new RegExp("[0-9]").test(n))&&!0===(l=o.leadingZeroHandler(n,a,i,r,o,s))&&!0!==o.numericInput){var c=e.inArray(o.radixPoint,a.buffer);l=-1!==c&&(!1===o.digitsOptional||a.validPositions[i])&&!0!==o.numericInput&&i>c&&!r?{pos:i,remove:i}:{pos:i}}return l},cardinality:1},"+":{validator:function(e,t,n,a,i){var r=i.signHandler(e,t,n,a,i);return!r&&(a&&i.allowMinus&&e===i.negationSymbol.front||i.allowMinus&&"-"===e||i.allowPlus&&"+"===e)&&(r=!(!a&&"-"===e)||(""!==i.negationSymbol.back?{pos:n,c:"-"===e?i.negationSymbol.front:"+",caret:n+1,insert:{pos:t.buffer.length,c:i.negationSymbol.back}}:{pos:n,c:"-"===e?i.negationSymbol.front:"+",caret:n+1})),r},cardinality:1,placeholder:""},"-":{validator:function(e,t,n,a,i){var r=i.signHandler(e,t,n,a,i);return!r&&a&&i.allowMinus&&e===i.negationSymbol.back&&(r=!0),r},cardinality:1,placeholder:""},":":{validator:function(e,n,a,i,r){var o=r.signHandler(e,n,a,i,r);if(!o){var s="["+t.escapeRegex(r.radixPoint)+"]";(o=new RegExp(s).test(e))&&n.validPositions[a]&&n.validPositions[a].match.placeholder===r.radixPoint&&(o={caret:a+1})}return o},cardinality:1,placeholder:function(e){return e.radixPoint}}},onUnMask:function(e,n,a){if(""===n&&!0===a.nullable)return n;var i=e.replace(a.prefix,"");return i=i.replace(a.suffix,""),i=i.replace(new RegExp(t.escapeRegex(a.groupSeparator),"g"),""),a.unmaskAsNumber?(""!==a.radixPoint&&-1!==i.indexOf(a.radixPoint)&&(i=i.replace(t.escapeRegex.call(this,a.radixPoint),".")),Number(i)):i},isComplete:function(e,n){var a=e.join(""),i=e.slice();if(n.postFormat(i,0,n),i.join("")!==a)return!1;var r=a.replace(n.prefix,"");return r=r.replace(n.suffix,""),r=r.replace(new RegExp(t.escapeRegex(n.groupSeparator),"g"),""),","===n.radixPoint&&(r=r.replace(t.escapeRegex(n.radixPoint),".")),isFinite(r)},onBeforeMask:function(e,n){if(e=e.toString(),!0===n.numericInput&&(e=e.split("").reverse().join("")),""!==n.radixPoint&&isFinite(e)){var a=e.split("."),i=""!==n.groupSeparator?parseInt(n.groupSize):0;2===a.length&&(a[0].length>i||a[1].length>i)&&(e=e.replace(".",n.radixPoint))}var r=e.match(/,/g),o=e.match(/\./g);if(o&&r?o.length>r.length?(e=e.replace(/\./g,""),e=e.replace(",",n.radixPoint)):r.length>o.length?(e=e.replace(/,/g,""),e=e.replace(".",n.radixPoint)):e=e.indexOf(".")<e.indexOf(",")?e.replace(/\./g,""):e=e.replace(/,/g,""):e=e.replace(new RegExp(t.escapeRegex(n.groupSeparator),"g"),""),0===n.digits&&(-1!==e.indexOf(".")?e=e.substring(0,e.indexOf(".")):-1!==e.indexOf(",")&&(e=e.substring(0,e.indexOf(",")))),""!==n.radixPoint&&isFinite(n.digits)&&-1!==e.indexOf(n.radixPoint)){var s=e.split(n.radixPoint),l=s[1].match(new RegExp("\\d*"))[0];if(parseInt(n.digits)<l.toString().length){var c=Math.pow(10,parseInt(n.digits));e=e.replace(t.escapeRegex(n.radixPoint),"."),e=Math.round(parseFloat(e)*c)/c,e=e.toString().replace(".",n.radixPoint)}}return!0===n.numericInput&&(e=e.split("").reverse().join("")),e},canClearPosition:function(e,t,n,a,i){var r=e.validPositions[t].input;return r!==i.radixPoint||null!==e.validPositions[t].match.fn&&!1===i.decimalProtect||isFinite(r)||t===n||r===i.groupSeparator||r===i.negationSymbol.front||r===i.negationSymbol.back},onKeyDown:function(n,a,i,r){var o=e(this);if(n.ctrlKey)switch(n.keyCode){case t.keyCode.UP:o.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(r.step)),o.trigger("setvalue");break;case t.keyCode.DOWN:o.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(r.step)),o.trigger("setvalue")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowPlus:!1,allowMinus:!1}})}(jQuery,Inputmask),function(e,t){function n(e,t){var n=(e.mask||e).replace(/#/g,"9").replace(/\)/,"9").replace(/[+()#-]/g,""),a=(t.mask||t).replace(/#/g,"9").replace(/\)/,"9").replace(/[+()#-]/g,""),i=(e.mask||e).split("#")[0],r=(t.mask||t).split("#")[0];return 0===r.indexOf(i)?-1:0===i.indexOf(r)?1:n.localeCompare(a)}var a=t.prototype.analyseMask;t.prototype.analyseMask=function(t,n){function i(e,n,a){n=n||"",a=a||o,""!==n&&(a[n]={});for(var r="",s=a[n]||a,l=e.length-1;l>=0;l--)t=e[l].mask||e[l],r=t.substr(0,1),s[r]=s[r]||[],s[r].unshift(t.substr(1)),e.splice(l,1);for(var c in s)s[c].length>500&&i(s[c].slice(),c,s)}function r(t){var a="",i=[];for(var o in t)e.isArray(t[o])?1===t[o].length?i.push(o+t[o]):i.push(o+n.groupmarker.start+t[o].join(n.groupmarker.end+n.alternatormarker+n.groupmarker.start)+n.groupmarker.end):i.push(o+r(t[o]));return a+=1===i.length?i[0]:n.groupmarker.start+i.join(n.groupmarker.end+n.alternatormarker+n.groupmarker.start)+n.groupmarker.end}var o={};return n.phoneCodes&&(n.phoneCodes&&n.phoneCodes.length>1e3&&(t=t.substr(1,t.length-2),i(t.split(n.groupmarker.end+n.alternatormarker+n.groupmarker.start)),t=r(o)),t=t.replace(/9/g,"\\9")),a.call(this,t,n)},t.extendAliases({abstractphone:{groupmarker:{start:"<",end:">"},countrycode:"",phoneCodes:[],mask:function(e){return e.definitions={"#":t.prototype.definitions[9]},e.phoneCodes.sort(n)},keepStatic:!0,onBeforeMask:function(e,t){var n=e.replace(/^0{1,2}/,"").replace(/[\s]/g,"");return(n.indexOf(t.countrycode)>1||-1===n.indexOf(t.countrycode))&&(n="+"+t.countrycode+n),n},onUnMask:function(e,t){return t},inputmode:"tel"}})}(jQuery,Inputmask),function(e,t){t.extendAliases({Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(e,t){return new RegExp(t.regex).test(e.join(""))},definitions:{r:{validator:function(t,n,a,i,r){function o(e,t){this.matches=[],this.isGroup=e||!1,this.isQuantifier=t||!1,this.quantifier={min:1,max:1},this.repeaterPart=void 0}function s(){var e,t,n=new o,a=[];for(r.regexTokens=[];e=r.tokenizer.exec(r.regex);)switch(t=e[0],t.charAt(0)){case"(":a.push(new o(!0));break;case")":u=a.pop(),a.length>0?a[a.length-1].matches.push(u):n.matches.push(u);break;case"{":case"+":case"*":var i=new o(!1,!0);t=t.replace(/[{}]/g,"");var s=t.split(","),l=isNaN(s[0])?s[0]:parseInt(s[0]),c=1===s.length?l:isNaN(s[1])?s[1]:parseInt(s[1]);if(i.quantifier={min:l,max:c},a.length>0){var d=a[a.length-1].matches;e=d.pop(),e.isGroup||(u=new o(!0),u.matches.push(e),e=u),d.push(e),d.push(i)}else e=n.matches.pop(),e.isGroup||(u=new o(!0),u.matches.push(e),e=u),n.matches.push(e),n.matches.push(i);break;default:a.length>0?a[a.length-1].matches.push(t):n.matches.push(t)}n.matches.length>0&&r.regexTokens.push(n)}function l(t,n){var a=!1;n&&(p+="(",m++);for(var i=0;i<t.matches.length;i++){var r=t.matches[i];if(!0===r.isGroup)a=l(r,!0);else if(!0===r.isQuantifier){var o=e.inArray(r,t.matches),s=t.matches[o-1],u=p;if(isNaN(r.quantifier.max)){for(;r.repeaterPart&&r.repeaterPart!==p&&r.repeaterPart.length>p.length&&!(a=l(s,!0)););a=a||l(s,!0),a&&(r.repeaterPart=p),p=u+r.quantifier.max}else{for(var d=0,f=r.quantifier.max-1;d<f&&!(a=l(s,!0));d++);p=u+"{"+r.quantifier.min+","+r.quantifier.max+"}"}}else if(void 0!==r.matches)for(var h=0;h<r.length&&!(a=l(r[h],n));h++);else{var g;if("["==r.charAt(0)){g=p,g+=r;for(var v=0;v<m;v++)g+=")";var y=new RegExp("^("+g+")$");a=y.test(c)}else for(var b=0,k=r.length;b<k;b++)if("\\"!==r.charAt(b)){g=p,g+=r.substr(0,b+1),g=g.replace(/\|$/,"");for(var v=0;v<m;v++)g+=")";var y=new RegExp("^("+g+")$");if(a=y.test(c))break}p+=r}if(a)break}return n&&(p+=")",m--),a}var c,u,d=n.buffer.slice(),p="",f=!1,m=0;null===r.regexTokens&&s(),d.splice(a,0,t),c=d.join("");for(var h=0;h<r.regexTokens.length;h++){var g=r.regexTokens[h];if(f=l(g,g.isGroup))break}return f},cardinality:1}}}})}(jQuery,Inputmask),function(e){var t={},n=[],a=[],i={interval:5e3,showPager:!1,stopHover:!0,showClose:!0,pagerActiveClass:"active",sliderContentClass:"",classPagerContainer:"js-actum-pager",sliderWrapClass:"js-actum-wrap",stopOnSelect:!1,cookiesPrefix:"disable-hint-",cookiesExpires:null,stopOnEnd:!1},r=function(e,t){e.data("options");e.find(".js-actum-content").html(t.body)},o=function(e){clearInterval(a[e])},s=function(e){var t=n[e].container.data("options");n[e].content.length>1&&(void 0===n[e].container.data("selected")||!t.stopOnSelect)&&t.interval&&(a[e]=setInterval(function(){y(e)},t.interval))},l=function(e){o(e),s(e)},c=function(){e.each(a,function(e){o(e)})},u=function(){e.each(a,function(e){s(e)})},d=function(e){y(e),l(e)},p=function(e){y(e,-1),l(e)},f=function(t){var a,i,r,s,l=t.data("id"),c=t.data("options");t.find("."+c.classPagerContainer).remove(),c.showPager&&n[l].content.length>1&&(a=e('<div class="'+c.classPagerContainer+'"></div>'),c.classLeftArrow&&c.classRightArrow&&(r=e('<a href="#" class="'+c.classLeftArrow+'"></a>').click(function(){return p(l),!1}),s=e('<a href="#" class="'+c.classRightArrow+'"></a>').click(function(){return d(l),!1})),a.append(r,s),i=e("<ul>").addClass(c.pagerClass),e(n[l].content).each(function(e){i.append("<li class="+c.pagerClass+'-item data-id="'+e+'">'+(e+1)+"</li>")}),i.children("li").click(function(){var n=parseInt(e(this).data("id"));return y(l,1,n),t.data("selected",n),c.stopOnSelect&&o(l),!1}),a.append(i),t.append(a))},m=function(){var t=e.cookie("disabledHints");return t?t.split(","):[]},h=function(e){var t=m();return~t.indexOf(e)||t.push(e),t.join(",")},g=function(t){var a=n[t].active,i=n[t].container.data("options");e.cookie("disabledHints",h(n[t].content[a].id),{expires:i.cookiesExpires,path:"/"}),n[t].content.splice(n[t].active,1),n[t].content.length?(f(n[t].container),y(t,1,a),i.stopHover||l(t)):n[t].content.length?(c(),n[t].container.remove()):e("."+i.sliderWrapClass).hide()},v=function(t){var n=t.data("id"),a=t.data("options"),i=e('<div class="js-actum-close-btn '+a.classCloseBtn+'"></div>');i.click(function(){g(n)}),t.append(i)},y=function(e,t,a){var t=t!==undefined?t:1,i=n[e].content,s=n[e].active+t,c=n[e].container,u=c.data("options");a!=undefined&&(s=a,u.stopHover||l(e)),s>=i.length&&(s=0),s<0&&(s=i.length-1),u.showPager&&(c.find("."+u.classPagerContainer+" li").removeClass(u.pagerActiveClass),c.find("."+u.classPagerContainer+" li:eq("+s+")").addClass(u.pagerActiveClass)),r(c,i[s]),n[e].active=s,u.stopOnEnd&&i.length-1===s&&o(e)},b=function(e){var t=e.data("id"),a=e.data("options"),i=e.append("<div class='js-actum-content "+a.sliderContentClass+"'>");e.show(),a.stopHover&&i.hover(function(){o(t)},function(){s(t)}),f(e),n[t].content.length?(a.showClose&&v(e),y(t),s(t)):e.remove()},k=function(a){m();a.each(function(){var i,r=0,o=[],s=e(this);s.children("div, li").each(function(){var t=e(this);o[r++]={id:t.attr("id"),body:t.html()}}),a.empty(),i=n.push({content:o,active:-1,container:s})-1,s.data({id:i,options:t}).show(),b(s)})},x={init:function(n){t={},e.extend(t,i,n),k(this)},stop:function(e){o(e)},stopAll:function(){c()},start:function(e){s(e)},startAll:function(){u()},swipeleft:function(e){d(e)},swiperight:function(e){p(e)},setActive:function(e,t,n){y(e,t,n)},clearAll:function(){t.length=0,n.length=0,a.length=0}};e.fn.actumEx=function(t){return"object"!=typeof t&&t?x[t]?x[t].apply(this,Array.prototype.slice.call(arguments,1)):void e.error("\u041c\u0435\u0442\u043e\u0434 "+t+" \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0432 jQuery.actumEx"):x.init.apply(this,arguments)}}(jQuery),app.modules.commonForm=function(e){function t(){$(".js-common-inputmask").inputmask()}function n(e){return/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)}function a(){var e=$(".js-common-form"),t=e.find("form"),a=e.find(".js-common-form-result"),i=t.find(".js-common-form-required"),r=t.find('input[name="email"]'),o=e.find(".js-common-form-errors"),s=0;if(e.removeClass("show-errors show-result fail"),i.removeClass("with-error-"),i.each(function(){var e=$(this);(e.val().length<1||!e.inputmask("isComplete"))&&(e.addClass("with-error-"),s++)}),r.hasClass("js-common-form-required")&&!n(r.val())&&(r.addClass("with-error-"),s++),s>0)return o.text(o.data("errors")),e.addClass("show-errors"),!1;$.post(t.prop("action"),t.serialize()).success(function(){a.text(a.data("success")),e.addClass("show-result")}).fail(function(){a.text(a.data("fail")),e.addClass("show-result fail")})}function i(){$doc.on("click",".js-go-to-common-form",function(){$("html, body").stop().animate({scrollTop:$(".js-common-form").offset().top},700),$(".js-common-form input:first-child").focus()}).on("submit",".js-common-form form",function(e){e.preventDefault(),a()})}return e.load=function(){t(),i()},e}(app.modules.commonForm||{}),app.modules.cmsAbout=function(e){function t(){var e=$("body");$(".js-cms-about-popup").fancybox({afterShow:function(){e.addClass("print-popup-inner")},afterClose:function(){e.removeClass("print-popup-inner")}})}return e.load=function(){t()},e}(app.modules.cmsAbout||{}),app.modules.showmore=function(e){function t(){$(".js-show-more-sibling:hidden:first").removeClass("hidden"),!$(".js-show-more-sibling:hidden").length&&$(this).hide()}function n(){$doc.on("click",".js-show-more-sibling-content",t)}return e.load=function(){n()},e}(app.modules.showmore||{}),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["lettered_item/letter"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return"<span class='main-letter first'>"+this.escapeExpression((i=null!=(i=t.letter||(null!=e?e.letter:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"letter",hash:{},data:a}):i))+"</span>"},useData:!0}),this.HandlebarsTemplates["lettered_item/letter"]}.call(this),app.modules.projectUtils=function(e){function t(){var e="",t=!0;$(".js-lettered-item").each(function(){var n=$(this),a=n.data("liter"),i=$.isNumeric(a);a!==e&&(!t&&i||n.prepend(HandlebarsTemplates["lettered_item/letter"]({letter:i?"1-9":a})),t=!i,e=a)})}function n(){$(".js-text-cutter-wrapper:visible:not(.checked):not(.active)").each(function(){var e=$(this).addClass("checked");parseInt(e.data("height"))<e.find(".js-text-cutter-content").height()?e.addClass("overflowed"):e.parent().removeClass("cutter-text")})}function a(){var e=$(this),t=e.prev(".js-text-cutter-wrapper");e.text(t.hasClass("active")?t.data("showtext"):t.data("hidetext")),t.toggleClass("active")}function i(){$(".js-go-to").each(function(){var e=$(this);e.attr({href:e.data("to")}).removeClass("js-go-to")})}function r(e){var t={"~":"\u0401","`":"\u0451","@":'"',"#":"\u2116",q:"\u0439",w:"\u0446",e:"\u0443",r:"\u043a",t:"\u0435",y:"\u043d",u:"\u0433",i:"\u0448",o:"\u0449",p:"\u0437",a:"\u0444",s:"\u044b",d:"\u0432",f:"\u0430",g:"\u043f",h:"\u0440",j:"\u043e",k:"\u043b",l:"\u0434",z:"\u044f",x:"\u0447",c:"\u0441",v:"\u043c",b:"\u0438",n:"\u0442",m:"\u044c",Q:"\u0419",W:"\u0426",E:"\u0423",R:"\u041a",T:"\u0415",Y:"\u041d",U:"\u0413",I:"\u0428",O:"\u0429",P:"\u0417",A:"\u0424",S:"\u042b",D:"\u0412",F:"\u0410",G:"\u041f",H:"\u0420",J:"\u041e",K:"\u041b",L:"\u0414",Z:"\u042f",X:"\u0427",C:"\u0421",V:"\u041c",B:"\u0418",N:"\u0422",M:"\u042c","[":"\u0445","{":"\u0425","]":"\u044a","}":"\u042a",";":"\u0436",":":"\u0416","'":"\u044d",'"':"\u042d",",":"\u0431","<":"\u0411",".":"\u044e",">":"\u042e","&":"?","/":"."},n={"\u0401":"~","\u0451":"`",'"':"@","\u2116":"#","\u0439":"q","\u0446":"w","\u0443":"e","\u043a":"r","\u0435":"t","\u043d":"y","\u0433":"u","\u0448":"i","\u0449":"o","\u0437":"p","\u0444":"a","\u044b":"s","\u0432":"d","\u0430":"f","\u043f":"g","\u0440":"h","\u043e":"j","\u043b":"k","\u0434":"l","\u044f":"z","\u0447":"x","\u0441":"c","\u043c":"v","\u0438":"b","\u0442":"n","\u044c":"m","\u0419":"Q","\u0426":"W","\u0423":"E","\u041a":"R","\u0415":"T","\u041d":"Y","\u0413":"U","\u0428":"I","\u0429":"O","\u0417":"P","\u0424":"A","\u042b":"S","\u0412":"D","\u0410":"F","\u041f":"G","\u0420":"H","\u041e":"J","\u041b":"K","\u0414":"L","\u042f":"Z","\u0427":"X","\u0421":"C","\u041c":"V","\u0418":"B","\u0422":"N","\u042c":"M","\u0445":"[","\u0425":"{","\u044a":"]","\u042a":"}","\u0436":",","\u0416":":","\u044d":"'","\u042d":'"',"\u0431":",","\u0411":"<","\u044e":".","\u042e":">","?":"&",".":"/"},a={ru:t,en:n},i=e.str,r=e.direction||"ru";return i&&(i=i.split("").map(function(e){return a[r][e]||e}).join("")),i}function o(){var e=$(this),t=e.prop("checked");e.closest(".js-terms-form").find(".js-terms-needed").prop("disabled",!t).toggleClass("disabled",!t)}function s(){$doc.on("click",".js-text-cutter-toggle",a).on("init:textCutter",n).on("unlock:seoLinks",i).on("change",".js-terms",o)}function l(){n(),t(),i()}return e.load=function(){l(),s()},e.enRuSwitch=r,e}(app.modules.projectUtils||{}),Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],a=n.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var r,o,s=[];for(r in i)e.call(i,r)&&s.push(r);if(t)for(o=0;o<a;o++)e.call(i,n[o])&&s.push(n[o]);return s}}());var swfobject=function(){function e(){if(!G){try{var e=F.getElementsByTagName("body")[0].appendChild(g("span"));e.parentNode.removeChild(e)}catch(e){return}G=!0;for(var t=N.length,n=0;n<t;n++)N[n]()}}function t(e){G?e():N[N.length]=e}function n(e){if(typeof I.addEventListener!=E)I.addEventListener("load",e,!1);else if(typeof F.addEventListener!=E)F.addEventListener("load",e,!1);else if(typeof I.attachEvent!=E)v(I,"onload",e);else if("function"==typeof I.onload){var t=I.onload;I.onload=function(){t(),e()}}else I.onload=e}function a(){D?i():r()}function i(){var e=F.getElementsByTagName("body")[0],t=g(A);t.setAttribute("type",$);var n=e.appendChild(t);if(n){var a=0;!function(){if(typeof n.GetVariable!=E){var i=n.GetVariable("$version");i&&(i=i.split(" ")[1].split(","),V.pv=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)])}else if(a<10)return a++,void setTimeout(arguments.callee,10);e.removeChild(t),n=null,r()}()}else r()}function r(){var e=L.length;if(e>0)for(var t=0;t<e;t++){var n=L[t].id,a=L[t].callbackFn,i={success:!1,id:n};if(V.pv[0]>0){var r=h(n);if(r)if(!y(L[t].swfVersion)||V.wk&&V.wk<312)if(L[t].expressInstall&&s()){var u={};u.data=L[t].expressInstall,u.width=r.getAttribute("width")||"0",u.height=r.getAttribute("height")||"0",r.getAttribute("class")&&(u.styleclass=r.getAttribute("class")),r.getAttribute("align")&&(u.align=r.getAttribute("align"));for(var d={},p=r.getElementsByTagName("param"),f=p.length,m=0;m<f;m++)"movie"!=p[m].getAttribute("name").toLowerCase()&&(d[p[m].getAttribute("name")]=p[m].getAttribute("value"));l(u,d,n,a)}else c(r),a&&a(i);else k(n,!0),a&&(i.success=!0,i.ref=o(n),a(i))}else if(k(n,!0),a){var g=o(n);g&&typeof g.SetVariable!=E&&(i.success=!0,i.ref=g),a(i)}}}function o(e){var t=null,n=h(e);if(n&&"OBJECT"==n.nodeName)if(typeof n.SetVariable!=E)t=n;else{var a=n.getElementsByTagName(A)[0];a&&(t=a)}return t}function s(){return!K&&y("6.0.65")&&(V.win||V.mac)&&!(V.wk&&V.wk<312)}function l(e,t,n,a){K=!0,_=a||null,j={success:!1,id:n};var i=h(n);if(i){"OBJECT"==i.nodeName?(w=u(i),C=null):(w=i,C=n),e.id=O,(typeof e.width==E||!/%$/.test(e.width)&&parseInt(e.width,10)<310)&&(e.width="310"),(typeof e.height==E||!/%$/.test(e.height)&&parseInt(e.height,10)<137)&&(e.height="137"),F.title=F.title.slice(0,47)+" - Flash Player Installation";var r=V.ie&&V.win?"ActiveX":"PlugIn",o="MMredirectURL="+I.location.toString().replace(/&/g,"%26")+"&MMplayerType="+r+"&MMdoctitle="+F.title;if(typeof t.flashvars!=E?t.flashvars+="&"+o:t.flashvars=o,V.ie&&V.win&&4!=i.readyState){var s=g("div");n+="SWFObjectNew",s.setAttribute("id",n),i.parentNode.insertBefore(s,i),i.style.display="none",function(){4==i.readyState?i.parentNode.removeChild(i):setTimeout(arguments.callee,10)}()}d(e,t,n)}}function c(e){if(V.ie&&V.win&&4!=e.readyState){var t=g("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(u(e),t),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(u(e),e)}function u(e){var t=g("div");if(V.win&&V.ie)t.innerHTML=e.innerHTML;else{var n=e.getElementsByTagName(A)[0];if(n){var a=n.childNodes;if(a)for(var i=a.length,r=0;r<i;r++)1==a[r].nodeType&&"PARAM"==a[r].nodeName||8==a[r].nodeType||t.appendChild(a[r].cloneNode(!0))}}return t}function d(e,t,n){var a,i=h(n);if(V.wk&&V.wk<312)return a;if(i)if(typeof e.id==E&&(e.id=n),V.ie&&V.win){var r="";for(var o in e)e[o]!=Object.prototype[o]&&("data"==o.toLowerCase()?t.movie=e[o]:"styleclass"==o.toLowerCase()?r+=' class="'+e[o]+'"':"classid"!=o.toLowerCase()&&(r+=" "+o+'="'+e[o]+'"'));var s="";for(var l in t)t[l]!=Object.prototype[l]&&(s+='<param name="'+l+'" value="'+t[l]+'" />');i.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+r+">"+s+"</object>",B[B.length]=e.id,a=h(e.id)}else{var c=g(A);c.setAttribute("type",$);for(var u in e)e[u]!=Object.prototype[u]&&("styleclass"==u.toLowerCase()?c.setAttribute("class",e[u]):"classid"!=u.toLowerCase()&&c.setAttribute(u,e[u]));for(var d in t)t[d]!=Object.prototype[d]&&"movie"!=d.toLowerCase()&&p(c,d,t[d]);i.parentNode.replaceChild(c,i),a=c}return a}function p(e,t,n){var a=g("param");a.setAttribute("name",t),a.setAttribute("value",n),e.appendChild(a)}function f(e){var t=h(e);t&&"OBJECT"==t.nodeName&&(V.ie&&V.win?(t.style.display="none",function(){4==t.readyState?m(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function m(e){var t=h(e);if(t){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}}function h(e){var t=null;try{t=F.getElementById(e)}catch(e){}return t}function g(e){return F.createElement(e)}function v(e,t,n){e.attachEvent(t,n),U[U.length]=[e,t,n]}function y(e){var t=V.pv,n=e.split(".");return n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10)||0,n[2]=parseInt(n[2],10)||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]}function b(e,t,n,a){if(!V.ie||!V.mac){var i=F.getElementsByTagName("head")[0];if(i){var r=n&&"string"==typeof n?n:"screen";if(a&&(S=null,P=null),!S||P!=r){var o=g("style");o.setAttribute("type","text/css"),o.setAttribute("media",r),S=i.appendChild(o),V.ie&&V.win&&typeof F.styleSheets!=E&&F.styleSheets.length>0&&(S=F.styleSheets[F.styleSheets.length-1]),P=r}V.ie&&V.win?S&&typeof S.addRule==A&&S.addRule(e,t):S&&typeof F.createTextNode!=E&&S.appendChild(F.createTextNode(e+" {"+t+"}"))}}}function k(e,t){if(z){var n=t?"visible":"hidden";G&&h(e)?h(e).style.visibility=n:b("#"+e,"visibility:"+n)}}function x(e){return null!=/[\\\"<>\.;]/.exec(e)&&typeof encodeURIComponent!=E?encodeURIComponent(e):e}var w,C,_,j,S,P,E="undefined",A="object",T="Shockwave Flash",M="ShockwaveFlash.ShockwaveFlash",$="application/x-shockwave-flash",O="SWFObjectExprInst",R="onreadystatechange",I=window,F=document,H=navigator,D=!1,N=[a],L=[],B=[],U=[],G=!1,K=!1,z=!0,V=function(){var e=typeof F.getElementById!=E&&typeof F.getElementsByTagName!=E&&typeof F.createElement!=E,t=H.userAgent.toLowerCase(),n=H.platform.toLowerCase(),a=n?/win/.test(n):/win/.test(t),i=n?/mac/.test(n):/mac/.test(t),r=!!/webkit/.test(t)&&parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),o=!1,s=[0,0,0],l=null;if(typeof H.plugins!=E&&typeof H.plugins[T]==A)!(l=H.plugins[T].description)||typeof H.mimeTypes!=E&&H.mimeTypes[$]&&!H.mimeTypes[$].enabledPlugin||(D=!0,o=!1,
l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),s[0]=parseInt(l.replace(/^(.*)\..*$/,"$1"),10),s[1]=parseInt(l.replace(/^.*\.(.*)\s.*$/,"$1"),10),s[2]=/[a-zA-Z]/.test(l)?parseInt(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof I.ActiveXObject!=E)try{var c=new ActiveXObject(M);c&&(l=c.GetVariable("$version"))&&(o=!0,l=l.split(" ")[1].split(","),s=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)])}catch(e){}return{w3:e,pv:s,wk:r,ie:o,win:a,mac:i}}();(function(){V.w3&&((typeof F.readyState!=E&&"complete"==F.readyState||typeof F.readyState==E&&(F.getElementsByTagName("body")[0]||F.body))&&e(),G||(typeof F.addEventListener!=E&&F.addEventListener("DOMContentLoaded",e,!1),V.ie&&V.win&&(F.attachEvent(R,function(){"complete"==F.readyState&&(F.detachEvent(R,arguments.callee),e())}),I==top&&function(){if(!G){try{F.documentElement.doScroll("left")}catch(e){return void setTimeout(arguments.callee,0)}e()}}()),V.wk&&function(){if(!G)/loaded|complete/.test(F.readyState)?e():setTimeout(arguments.callee,0)}(),n(e)))})(),function(){V.ie&&V.win&&window.attachEvent("onunload",function(){for(var e=U.length,t=0;t<e;t++)U[t][0].detachEvent(U[t][1],U[t][2]);for(var n=B.length,a=0;a<n;a++)f(B[a]);for(var i in V)V[i]=null;V=null;for(var r in swfobject)swfobject[r]=null;swfobject=null})}();return{registerObject:function(e,t,n,a){if(V.w3&&e&&t){var i={};i.id=e,i.swfVersion=t,i.expressInstall=n,i.callbackFn=a,L[L.length]=i,k(e,!1)}else a&&a({success:!1,id:e})},getObjectById:function(e){if(V.w3)return o(e)},embedSWF:function(e,n,a,i,r,o,c,u,p,f){var m={success:!1,id:n};V.w3&&!(V.wk&&V.wk<312)&&e&&n&&a&&i&&r?(k(n,!1),t(function(){a+="",i+="";var t={};if(p&&typeof p===A)for(var h in p)t[h]=p[h];t.data=e,t.width=a,t.height=i;var g={};if(u&&typeof u===A)for(var v in u)g[v]=u[v];if(c&&typeof c===A)for(var b in c)typeof g.flashvars!=E?g.flashvars+="&"+b+"="+c[b]:g.flashvars=b+"="+c[b];if(y(r)){var x=d(t,g,n);t.id==n&&k(n,!0),m.success=!0,m.ref=x}else{if(o&&s())return t.data=o,void l(t,g,n,f);k(n,!0)}f&&f(m)})):f&&f(m)},switchOffAutoHideShow:function(){z=!1},ua:V,getFlashPlayerVersion:function(){return{major:V.pv[0],minor:V.pv[1],release:V.pv[2]}},hasFlashPlayerVersion:y,createSWF:function(e,t,n){return V.w3?d(e,t,n):undefined},showExpressInstall:function(e,t,n,a){V.w3&&s()&&l(e,t,n,a)},removeSWF:function(e){V.w3&&f(e)},createCSS:function(e,t,n,a){V.w3&&b(e,t,n,a)},addDomLoadEvent:t,addLoadEvent:n,getQueryParamValue:function(e){var t=F.location.search||F.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return x(t);for(var n=t.split("&"),a=0;a<n.length;a++)if(n[a].substring(0,n[a].indexOf("="))==e)return x(n[a].substring(n[a].indexOf("=")+1))}return""},expressInstallCallback:function(){if(K){var e=h(O);e&&w&&(e.parentNode.replaceChild(w,e),C&&(k(C,!0),V.ie&&V.win&&(w.style.display="block")),_&&_(j)),K=!1}}}}();(function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["barmen_client/showcase"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,r;return"<div class='showcase'>\n  <h3 class='sc-header ov'>\n    <a class='js-showcase-link' href='"+this.escapeExpression((r=null!=(r=t.url||(null!=e?e.url:e))?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"url",hash:{},data:a}):r))+"'>"+this.escapeExpression((r=null!=(r=t.name||(null!=e?e.name:e))?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"name",hash:{},data:a}):r))+"</a>\n  </h3>\n  <div class='sc-c'>\n    <div class='scc-i'>\n      <a class='scci-i js-showcase-link' href='"+this.escapeExpression((r=null!=(r=t.url||(null!=e?e.url:e))?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"url",hash:{},data:a}):r))+"' target='_blank'>\n        <img alt='' class='sc-img' src='"+this.escapeExpression(this.lambda(null!=(i=null!=e?e.banner_shape_image:e)?i.public_url:i,e))+"'>\n      </a>\n    </div>\n    <div class='scc-d scc-wi'>\n      <div class='sccd-t'>"+this.escapeExpression((r=null!=(r=t.content||(null!=e?e.content:e))?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"content",hash:{},data:a}):r))+"</div>\n      <div class='sccd-contacts'>\n        <div class='sccd-c'>\n          <a class='js-showcase-link' href='"+this.escapeExpression((r=null!=(r=t.url||(null!=e?e.url:e))?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"url",hash:{},data:a}):r))+"' target='_blank'>"+this.escapeExpression((r=null!=(r=t.company_name||(null!=e?e.company_name:e))?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"company_name",hash:{},data:a}):r))+"</a>\n        </div>\n        <div class='sccd-p'>\n          <div class='sccdp-i'>"+this.escapeExpression((r=null!=(r=t.phone||(null!=e?e.phone:e))?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"phone",hash:{},data:a}):r))+"</div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>"},useData:!0}),this.HandlebarsTemplates["barmen_client/showcase"]}).call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["barmen_client/showcase_mobile"]=Handlebars.template({1:function(){return"cap"},3:function(e){var t;return"          <img alt='' class='ibb-img' src='"+this.escapeExpression(this.lambda(null!=(t=null!=e?e.banner_shape_image:e)?t.public_url:t,e))+"'>\n"},5:function(){return"          <div class='ibb-img'></div>\n"},7:function(e,t,n,a){var i;return"    <li class='spl-item company'>"+this.escapeExpression((i=null!=(i=t.company_name||(null!=e?e.company_name:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"company_name",hash:{},data:a}):i))+"</li>\n"},9:function(e,t,n,a){var i;return"    <li class='spl-item phone'>"+this.escapeExpression((i=null!=(i=t.phone||(null!=e?e.phone:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"phone",hash:{},data:a}):i))+"</li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,r;return"<a href='"+this.escapeExpression((r=null!=(r=t.url||(null!=e?e.url:e))?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"url",hash:{},data:a}):r))+"' target='_blank'>\n  <ul class='short-products-list'>\n    <li class='spl-item'>\n      <div class='img-block "+(null!=(i=t.unless.call(e,null!=(i=null!=e?e.banner_shape_image:e)?i.public_url:i,{name:"unless",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+"'>\n        <div class='ib-body'>\n"+(null!=(i=t["if"].call(e,null!=(i=null!=e?e.banner_shape_image:e)?i.public_url:i,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.program(5,a,0),data:a}))?i:"")+"        </div>\n      </div>\n    </li>\n    <li class='spl-item'>\n      <p class='spl-title'>"+this.escapeExpression((r=null!=(r=t.name||(null!=e?e.name:e))?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"name",hash:{},data:a}):r))+"</p>\n    </li>\n    <li class='spl-item content'>\n      <p>"+this.escapeExpression((r=null!=(r=t.content||(null!=e?e.content:e))?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"content",hash:{},data:a}):r))+"</p>\n    </li>\n"+(null!=(i=t["if"].call(e,null!=e?e.company_name:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t["if"].call(e,null!=e?e.phone:e,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+"  </ul>\n</a>"},useData:!0}),this.HandlebarsTemplates["barmen_client/showcase_mobile"]}.call(this),app.modules.fair=function(e){function t(){$(".js-fair-slider").actumEx({interval:5e3,showPager:!0,showClose:!1,sliderContentClass:"fair-slide",classPagerContainer:"pagination",pagerClass:"nums",pagerActiveClass:"active",classLeftArrow:"dn",classRightArrow:"dn",stopHover:!0}),$(".js-lazy").lazyload()}function n(){$doc.on("click",".js-fair-order",function(){a=$(this),$(a.data("target")).click()}).on("click",".js-order-button",function(){a=$(this)}).on("orderForm.init",function(){a&&$(".js-order-form-message").val(a.hasClass("js-fair-order")?a.data("message"):"")})}var a;return e.load=function(){n(),t()},e}(app.modules.fair||{}),app.modules.sendUtmAnalytics=function(e){function t(){return location.search.substring(1).split("&").reduce(function(e,t){var n=t.split("=");return e[n[0]]=n[1],e},{})}function n(e,t){return e.reduce(function(e,n,a){return e[n]=t[a],e},{})}function a(e,t){var a={};return $.each(t,function(t,i){if(0===String(i).lastIndexOf("utm_")){if(!(i=e[i]))return;if(-1!==String(t).indexOf("&")&&-1!==String(i).indexOf("_"))return $.extend(a,n(t.split("&"),i.split("_")))}a[t]=i}),t.requiredParams&&$.each(t.requiredParams,function(e,t){a[t]||(a[t]=0)}),a}function i(e,t){$.ajax({url:t,data:e,declineCredentials:e.declineCredentials})}function r(e,n){var r=t();$.each(e,function(e,t){r[t.utmActionPlace]===e&&i(a(r,t),n)})}function o(){$doc.on("send:utmAnalytics",function(e,t,n){r(t,n)})}return e.load=function(){o()},e}(app.modules.sendUtmAnalytics||{}),app.modules.utmAnalytics=function(e){var t={email:{utmActionPlace:"utm_medium","entity_id&dispatch_id":"utm_campaign","user_id&company_id":"utm_term",date:"utm_content",entity_type:"Apress::Notifications::Delivery",event:"follow",url:location.href,requiredParams:["user_id","company_id"]}};return e.load=function(){location.search&&app.config.analyticsCollectURL&&$doc.trigger("send:utmAnalytics",[t,app.config.analyticsCollectURL])},e}(app.modules.utmAnalytics||{}),app.modules.instantRegistration=function(e){function t(){$doc.on("change","#registration_terms",function(){$(".js-terms-needed-for-registration").prop("disabled",!$(this).prop("checked"))})}return e.load=function(){t()},e}(app.modules.instantRegistration||{}),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["customer_orders/coupon_email"]=Handlebars.template({1:function(e,t,n,a){var i;return"      <b>"+this.escapeExpression((i=null!=(i=t.email||(null!=e?e.email:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"email",hash:{},data:a}):i))+"</b>\n      <input class='js-cof-email' type='hidden' value='"+this.escapeExpression((i=null!=(i=t.email||(null!=e?e.email:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"email",hash:{},data:a}):i))+"'>\n      <a class='control-link js-close-quick-popup' href='"+this.escapeExpression((i=null!=(i=t.changeLink||(null!=e?e.changeLink:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"changeLink",hash:{},data:a}):i))+"' target='_blank'>\n        \u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c\n      </a>\n"},3:function(){return"      <input class='cof-field text-field js-cof-email' type='text'>\n      <div class='error-block js-of-error' data-empty='\u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c' data-exist='\u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d' data-other='\u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442'></div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return"<div class='form-group'>\n  <div class='form-group inline'>\n    <div class='of-label label'>Email:</div>\n    <div class='field'>\n"+(null!=(i=t["if"].call(e,null!=e?e.email:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:"")+"      <input name='extra_params[coupon][send_to]' type='hidden' value='email'>\n    </div>\n  </div>\n</div>"},useData:!0}),this.HandlebarsTemplates["customer_orders/coupon_email"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["customer_orders/coupon_phone"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return"<div class='form-group'>\n  <div class='form-group inline'>\n    <div class='of-label label'>\u0412\u0430\u0448 \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0439:</div>\n    <div class='field clearfix'>\n      <input class='cof-field text-field js-cof-phone js-of-customer_phone' name='order[customer_phone]' placeholder='+7 (___) ___-__-__' type='tel' value='"+this.escapeExpression((i=null!=(i=t.phone||(null!=e?e.phone:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"phone",hash:{},data:a}):i))+"'>\n      <div class='error-block js-of-error' data-other='\u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442'></div>\n      <input name='extra_params[coupon][send_to]' type='hidden' value='phone'>\n    </div>\n  </div>\n</div>"},useData:!0}),this.HandlebarsTemplates["customer_orders/coupon_phone"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["customer_orders/dummy_comment"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return"\u0414\u043e\u0431\u0440\u044b\u0439 \u0434\u0435\u043d\u044c! \u041c\u0435\u043d\u044f \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442:\n"+this.escapeExpression((i=null!=(i=t.title||(null!=e?e.title:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"title",hash:{},data:a}):i))},useData:!0}),this.HandlebarsTemplates["customer_orders/dummy_comment"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["customer_orders/form2"]=Handlebars.template({1:function(){return"\u0414\u0430\u043d\u043d\u044b\u0435 \u0442\u0443\u0440\u0430:"},3:function(e,t,n,a){var i;return" \u0434\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430 "+this.escapeExpression((i=null!=(i=t.date||(null!=e?e.date:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"date",hash:{},data:a}):i))},5:function(){return","},7:function(){return" \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u043e\u0447\u0435\u0439"},9:function(e,t,n,a){var i;return" \u043e\u0442 "+this.escapeExpression((i=null!=(i=t.nightsFrom||(null!=e?e.nightsFrom:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"nightsFrom",hash:{},data:a}):i))},11:function(e,t,n,a){var i;return" \u0434\u043e "+this.escapeExpression((i=null!=(i=t.nightsTo||(null!=e?e.nightsTo:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"nightsTo",hash:{},data:a}):i))},13:function(e,t,n,a){var i;return" \u0432\u0437\u0440\u043e\u0441\u043b\u044b\u0445: "+this.escapeExpression((i=null!=(i=t.adults||(null!=e?e.adults:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"adults",hash:{},data:a}):i))},15:function(e,t,n,a){var i;return" \u0434\u0435\u0442\u0435\u0439: "+this.escapeExpression((i=null!=(i=t.children||(null!=e?e.children:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"children",hash:{},data:a}):i))},17:function(){return"."},19:function(e,t,n,a){var i,r;return(null!=(i=t["if"].call(e,null!=e?e.hasAdditional:e,{name:"if",hash:{},fn:this.program(20,a,0),inverse:this.noop,data:a}))?i:"")+this.escapeExpression((r=null!=(r=t.comment||(null!=e?e.comment:e))?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"comment",hash:{},data:a}):r))},20:function(){return"\n\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return(null!=(i=t["if"].call(e,null!=e?e.hasAdditional:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t["if"].call(e,null!=e?e.date:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t["if"].call(e,null!=e?e.comma1:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t["if"].call(e,null!=e?e.nights:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t["if"].call(e,null!=e?e.nightsFrom:e,{name:"if",hash:{},fn:this.program(9,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t["if"].call(e,null!=e?e.nightsTo:e,{name:"if",hash:{},fn:this.program(11,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t["if"].call(e,null!=e?e.comma2:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t["if"].call(e,null!=e?e.adults:e,{name:"if",hash:{},fn:this.program(13,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t["if"].call(e,null!=e?e.comma3:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t["if"].call(e,null!=e?e.children:e,{name:"if",hash:{},fn:this.program(15,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t["if"].call(e,null!=e?e.hasAdditional:e,{name:"if",hash:{},fn:this.program(17,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t["if"].call(e,null!=e?e.comment:e,{name:"if",hash:{},fn:this.program(19,a,0),inverse:this.noop,data:a}))?i:"")},useData:!0}),this.HandlebarsTemplates["customer_orders/form2"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["customer_orders/form3"]=Handlebars.template({1:function(e,t,n,a){var i;return" "+this.escapeExpression((i=null!=(i=t.date||(null!=e?e.date:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"date",hash:{},data:a}):i))+","},3:function(e,t,n,a){var i;return" "+this.escapeExpression((i=null!=(i=t.time||(null!=e?e.time:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"time",hash:{},data:a}):i))},5:function(e,t,n,a){var i;return", \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0433\u043e\u0441\u0442\u0435\u0439: "+this.escapeExpression((i=null!=(i=t.guests||(null!=e?e.guests:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"guests",hash:{},data:a}):i))},7:function(e,t,n,a){var i;return"\n"+this.escapeExpression((i=null!=(i=t.comment||(null!=e?e.comment:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"comment",hash:{},data:a}):i))+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f:"+(null!=(i=t["if"].call(e,null!=e?e.date:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t["if"].call(e,null!=e?e.time:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t["if"].call(e,null!=e?e.guests:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")+".\n"+(null!=(i=t["if"].call(e,null!=e?e.comment:e,{name:"if",hash:{},fn:this.program(7,a,0),inverse:this.noop,data:a}))?i:"")},useData:!0}),this.HandlebarsTemplates["customer_orders/form3"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["customer_orders/form4"]=Handlebars.template({1:function(e,t,n,a){var i;return" "+this.escapeExpression((i=null!=(i=t.date||(null!=e?e.date:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"date",hash:{},data:a}):i))+","},3:function(e,t,n,a){var i;return" "+this.escapeExpression((i=null!=(i=t.time||(null!=e?e.time:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"time",hash:{},data:a}):i))},5:function(e,t,n,a){var i;return"\n"+this.escapeExpression((i=null!=(i=t.comment||(null!=e?e.comment:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"comment",hash:{},data:a}):i))+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u0443\u0441\u043b\u0443\u0433\u0438:"+(null!=(i=t["if"].call(e,null!=e?e.date:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t["if"].call(e,null!=e?e.time:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+".\n"+(null!=(i=t["if"].call(e,null!=e?e.comment:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")},useData:!0}),this.HandlebarsTemplates["customer_orders/form4"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["customer_orders/form5"]=Handlebars.template({1:function(e,t,n,a){var i;return" "+this.escapeExpression((i=null!=(i=t.date||(null!=e?e.date:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"date",hash:{},data:a}):i))+","},3:function(e,t,n,a){var i;return" "+this.escapeExpression((i=null!=(i=t.time||(null!=e?e.time:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"time",hash:{},data:a}):i))},5:function(e,t,n,a){var i;return"\n"+this.escapeExpression((i=null!=(i=t.comment||(null!=e?e.comment:e))?i:t.helperMissing,"function"==typeof i?i.call(e,{name:"comment",hash:{},data:a}):i))+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u0443\u0441\u043b\u0443\u0433\u0438:"+(null!=(i=t["if"].call(e,null!=e?e.date:e,{name:"if",hash:{},fn:this.program(1,a,0),inverse:this.noop,data:a}))?i:"")+(null!=(i=t["if"].call(e,null!=e?e.time:e,{name:"if",hash:{},fn:this.program(3,a,0),inverse:this.noop,data:a}))?i:"")+".\n"+(null!=(i=t["if"].call(e,null!=e?e.comment:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:"")},useData:!0}),this.HandlebarsTemplates["customer_orders/form5"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["customer_orders/online_payment_comment"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(){return"\n\u0421\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b: on-line."},useData:!0}),this.HandlebarsTemplates["customer_orders/online_payment_comment"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["orders/flash_message"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(){return"<div class='flash js-of-flash-message'>\n  <div class='flash-message failure'>\n    <p>\u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442</p>\n  </div>\n</div>"},useData:!0}),this.HandlebarsTemplates["orders/flash_message"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["orders/loader"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(){return"<div class='order-popup-form-loader-wrapper'>\n  <div class='order-popup-form-loader js-order-popup-form-loader'></div>\n</div>"},useData:!0}),this.HandlebarsTemplates["orders/loader"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["orders/mobile_orders_popup"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i,r;return null!=(r=null!=(r=t.content||(null!=e?e.content:e))?r:t.helperMissing,i="function"==typeof r?r.call(e,{name:"content",hash:{},data:a}):r)?i:""},useData:!0}),this.HandlebarsTemplates["orders/mobile_orders_popup"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["orders/order_form"]=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(){return"<div class='order-popup-form-wrapper js-order-popup-form-wrapper'></div>"},useData:!0}),this.HandlebarsTemplates["orders/order_form"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["orders/success_popup"]=Handlebars.template({1:function(e,t,n,a){var i,r;return"<div class='tender-success'>\n  <h2 class='gp-header'>\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e</h2>\n  <p class='gp-text'>\u0412\u0430\u0448\u0435 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0437\u0430\u044f\u0432\u043a\u0443 \u0441\u043f\u0440\u043e\u0441\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u044e.</p>\n  <p class='gp-text'>\n    \u041d\u0430 \u0435\u0433\u043e \u043e\u0441\u043d\u043e\u0432\u0435 \u0431\u044b\u043b \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d \u0437\u0430\u043a\u0430\u0437, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u0432 \u0441\u0432\u043e\u0435\u043c \u041b\u0438\u0447\u043d\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435.\n  </p>\n  <p class='gp-text'>\n    \u041d\u043e\u043c\u0435\u0440 \u0437\u0430\u043a\u0430\u0437\u0430:\n    <a href='"+this.escapeExpression((r=null!=(r=t.order_url||(null!=e?e.order_url:e))?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"order_url",hash:{},data:a}):r))+"' target='_blank'>"+this.escapeExpression(this.lambda(null!=(i=null!=e?e.order:e)?i.id:i,e))+"</a>\n  </p>\n  <div class='tac'><a class='apress-button ab-default' href='"+this.escapeExpression((r=null!=(r=t.order_url||(null!=e?e.order_url:e))?r:t.helperMissing,"function"==typeof r?r.call(e,{name:"order_url",hash:{},data:a}):r))+"' target='_blank'>\n      \u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u041a\u0430\u0431\u0438\u043d\u0435\u0442\n    </a></div>\n</div>\n"},3:function(e,t,n,a){var i;return"<div class='dp-header'>\u0421\u043f\u0430\u0441\u0438\u0431\u043e!</div>\n<div class='dp-content'>\n"+(null!=(i=(t.ifCond||e&&e.ifCond||t.helperMissing).call(e,null!=e?e.template:e,"===","coupon",{name:"ifCond",hash:{},fn:this.program(4,a,0),inverse:this.program(10,a,0),data:a}))?i:"")+"</div>\n<div class='tac mt25 js-order-success-popup-footer'>\n  <span class='sbm js-close-order-popup'>OK</span>\n</div>\n"},4:function(e,t,n,a){var i;return null!=(i=t["if"].call(e,null!=e?e.sendType:e,{name:"if",hash:{},fn:this.program(5,a,0),inverse:this.noop,data:a}))?i:""},5:function(e,t,n,a){var i;return null!=(i=(t.ifCond||e&&e.ifCond||t.helperMissing).call(e,null!=e?e.sendType:e,"===","phone",{name:"ifCond",hash:{},fn:this.program(6,a,0),inverse:this.program(8,a,0),data:a}))?i:""},6:function(){return"  \u041c\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u0438 \u043a\u0443\u043f\u043e\u043d \u043d\u0430 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440.\n"},8:function(){return"  \u041c\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u0438 \u043a\u0443\u043f\u043e\u043d \u043d\u0430 \u0432\u0430\u0448\u0443 \u043f\u043e\u0447\u0442\u0443.\n"},10:function(){return"  \u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u044c \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u0441\u0432\u044f\u0436\u0435\u0442\u0441\u044f \u0441 \u0432\u0430\u043c\u0438\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return null!=(i=(t.ifCond||e&&e.ifCond||t.helperMissing).call(e,null!=(i=null!=e?e.order:e)?i.order_type:i,"===","tender",{name:"ifCond",hash:{},fn:this.program(1,a,0),inverse:this.program(3,a,0),data:a}))?i:""},useData:!0}),this.HandlebarsTemplates["orders/success_popup"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["orders/success_popup_mobile"]=Handlebars.template({1:function(e,t,n,a){var i;return null!=(i=t["if"].call(e,null!=e?e.sendType:e,{name:"if",hash:{},fn:this.program(2,a,0),inverse:this.noop,data:a}))?i:""},2:function(e,t,n,a){var i;return null!=(i=(t.ifCond||e&&e.ifCond||t.helperMissing).call(e,null!=e?e.sendType:e,"===","phone",{name:"ifCond",hash:{},fn:this.program(3,a,0),inverse:this.program(5,a,0),data:a}))?i:""},3:function(){return"    \u041c\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u0438 \u043a\u0443\u043f\u043e\u043d \u043d\u0430 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440.\n"},5:function(){return"    \u041c\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u0438 \u043a\u0443\u043f\u043e\u043d \u043d\u0430 \u0432\u0430\u0448\u0443 \u043f\u043e\u0447\u0442\u0443.\n"},7:function(){return"    \u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u044c \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u0441\u0432\u044f\u0436\u0435\u0442\u0441\u044f \u0441 \u0432\u0430\u043c\u0438\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,a){var i;return"<div class='tac'>\n  <p class='cover-block-header'>\n    <b>\u0421\u043f\u0430\u0441\u0438\u0431\u043e!</b>\n  </p>\n  <p class='mt10'>\n"+(null!=(i=(t.ifCond||e&&e.ifCond||t.helperMissing).call(e,null!=e?e.template:e,"===","coupon",{name:"ifCond",hash:{},fn:this.program(1,a,0),inverse:this.program(7,a,0),data:a}))?i:"")+"  </p>\n  <div class='js-order-success-popup-footer'></div>\n</div>"},useData:!0}),this.HandlebarsTemplates["orders/success_popup_mobile"]}.call(this),app.modules.orderForm=function(){function e(){return{order_type:R.find(".js-order-type").val(),company_id:R.find(".js-order-company-id").val(),items_attributes:[{subject_id:R.find(".js-order-subject-id").val(),quantity:R.find(".js-of-count").val()||1}]}}function t(e){return!!app.config.minTotalValidationForms.filter(function(t){return t===e}).length}function n(){if(t(app.config.orderFormType)){var n=R.find(".js-order-total-warning"),a=R.find(".js-send-order");app.modules.customerOrdersAPI.getOrderDraft(e()).then(function(e){var t=e.order.price_validation;t&&(t.passed?(a.prop({disabled:!1}),n.addClass("hidden")):(a.prop({disabled:!!t.required}),n.html(app.config.orderMinTotalMessages.blockingMessage.replace("_total_",t.min_price)).removeClass("hidden")))})}}function a(){var e={profile_attributes:{city_id:app.config.currentRegionCapitalId}},t=document.querySelector(".js-order-form .js-input-phone-auth");return t&&t.value&&(e.profile_attributes.contacts=t.value),e}function i(e){var t=e.length&&e.val();return t&&t.length||(t=HandlebarsTemplates["customer_orders/dummy_comment"]({title:e.data("order-subject-title")})),t}function r(){var e=$(".js-order-form-message"),t=e.val();switch(app.config.orderFormType){case"form2":o();break;case"form3":s();break;case"form4":l();break;default:return i(e)}return O.comment=t.length>0&&t,$.isEmptyObject(O)||(t=HandlebarsTemplates["customer_orders/"+app.config.orderFormType](O)),t}function o(){O={date:$("[data-field=date]").val(),nightsFrom:$("[data-field=nights_from]").val(),nightsTo:$("[data-field=nights_to]").val(),adults:$("[data-field=adults]").val(),children:$("[data-field=children]").val()},O.nights=O.nightsFrom||O.nightsTo,O.comma1=O.date.length>0&&O.nights.length>0,O.comma2=(O.nights.length>0||O.nights.length<1&&O.date.length>0&&!O.comma1)&&O.adults,O.comma3=(O.adults||!O.adults&&(O.date.length>0||O.nights.length>0)&&!O.comma2)&&O.children,O.hasAdditional=O.date||O.nights||O.adults||O.children}function s(){O={date:$("[data-field=date]").val(),time:$("[data-field=time]").val(),guests:$("[data-field=guests]").val()}}function l(){O={date:$("[data-field=date]").val(),time:$("[data-field=time]").val()}}function c(){var e=r(),t=$(".js-order-form-full-message");D&&(e+=HandlebarsTemplates["customer_orders/online_payment_comment"]()),t.length&&t.val(e)}function u(){var e,t,a=$(this),i=$(".js-order-total-price .bp-price"),r=$(".js-order-current-price"),o=r.find("[data-price-type=from], [data-price-type=exact], [data-price-type=discount-new]").html(),s=r.find("[data-price-type=to], [data-price-type=discount-old]").html(),l=parseInt(a.val())||1;if(o&&(e=parseFloat(o.replace(" ","")),t=d(l*e),$(".js-order-product-total-price-field").val(t),i.first().html(t)),s){var c=parseFloat(s.replace(" ",""));i.last().html(d(l*c))}n()}function d(e){var t=/(\d)(?=(?:\d{3})+(?:[^\d]|$))/g;return e.toFixed(2).replace(t,"$1 ")}function p(e){var t=$(".js-of-new-user-phone");e.user&&e.user.id?($(".js-of-contact-phone").val(""),t.addClass("dn"),$doc.trigger("showSignInFields:authComponent")):(t.removeClass("dn"),$doc.trigger("showSignUpFields:authComponent"))}function f(){var e=$(this);e.val(e.val().replace("+8","+7")),$(".js-of-field-for-phone").val(function(){try{return e.cleanVal()}catch(t){return e.val()}})}function m(){R=$(".js-order-form"),I=app.config.currentUser.email||app.config.currentUser.phone||!1,I||app.modules.staticAuthComponent.rerender(),$(".js-of-date-picker").datepicker({dateFormat:"dd.mm.yy",changeMonth:!0,changeYear:!0,defaultDate:0,disabled:!0}),app.config.amountForOrder&&$(".js-of-count").val(app.config.amountForOrder).trigger("recount"),$(".js-order-product-total-price-field").val($(".js-order-current-price .bp-price:eq(0)").text()),$(".js-numeric").numeric({negative:!1}),$(".js-toggle").toggler(),$(".js-inputmask").inputmask(),!app.config.isMobile&&$(".js-check-length").checkLength(),app.modules.selectCheck&&app.modules.selectCheck.load(),n(),app.config.orderFormAnalytics&&$doc.trigger("send:externalAnalytics",app.config.orderFormAnalytics.openedId)}function h(e,t){if(!t.responseJSON)return void C(e);$.each(t.responseJSON.errors,function(t,n){$.each(n,function(t,n){e.find(".js-of-"+t).data({other:n}).addClass("js-of-field-with-error error-on other")})})}
function g(e){var t=new FormData,n=["input","textarea","select"];return e.find(n.map(function(e){return e+":not(:disabled)"}).join(",")).each(function(){var e=$(this),n=e.attr("type"),a=e.attr("name"),i=e.is(".js-attach-file-button")?this.files[0]:e.val()||e.data("defaultValue");n&&n.match(/checkbox|radio/)&&!e.prop("checked")||i&&t.append(a,i)}),t.append("order[source_url]",location.href),t}function v(e){var t=e.find(".js-order-type").val(),n=app.config.api["tender"===t?"sellerOrdersURL":"customerOrdersURL"];$.ajax({url:n,method:"POST",processData:!1,contentType:!1,data:g(e)}).done(b(t)).fail(y(e))}function y(e){return function(t){h(e,t),I||!app.config.currentUser.email&&!app.config.currentUser.phone||e.find(".js-of-send-options").remove(),k(e)}}function b(e){return function(t,n,a){var i={},r=$(".js-order-popup-form-wrapper");201===a.status?($.extend(i,{order:t.order,order_url:app.config.orderFormPopup["tender"===e?"sellerOrderURL":"customerOrderURL"].replace(":id",t.order.id),template:app.config.orderFormType,sendType:app.config.orderFormSendType}),t.order.items&&t.order.items.length&&$doc.trigger("conversionEventLog:send",{type:"order",productId:t.order.items[0].subject_id,userId:t.order.user.id}),app.config.isMobile?$doc.trigger("closeAllPopup:popups").trigger("insert:popups:mobile",{tmpl:"orders/success_popup_mobile",params:i}):D?($(".js-order-popup-form-wrapper").dialog("close"),$doc.trigger("render:onlinePaymentPopup",[{order:t.order,wasUserSigned:I}]),D=!1):r.html(HandlebarsTemplates["orders/success_popup"](i)).dialog("option",{width:390,resizable:!1,dialogClass:"dialog-popup send-message-popup order-success js-order-form-popup",close:function(){r.dialog("option",{dialogClass:"",width:"auto"}),I||location.reload(!0)}}),t.order&&$doc.trigger("checkout:ordersItem",t.order)):r.html(t)}}function k(e){formSubmitter.enableButtons(e[0]),D&&(e.find(".js-of-online-payment-button").prop({disabled:!1}),D=!1)}function x(e){var t=e.find(".js-of-required:visible"),n=0;return!t.length||(t.removeClass("error-on"),t.each(function(){var e=$(this),t=e.find(".js-of-required-field");t.val().length||(t.addClass("error").closest(".js-of-required").addClass("error-on"),n++)}),!n)}function w(e){e.find(".js-of-flash-message").remove().end().find(".js-of-field-with-error").removeClass("js-of-field-with-error error error-on other")}function C(e){var t=e||$(".js-of-flash-container");e=e||$(".js-order-form"),t.prepend(HandlebarsTemplates["orders/flash_message"]()),k(e)}function _(e,t){e=e||$(".js-order-form"),w(e),x(e)?t&&t.authComponentCompleted||I?v(e):app.modules.authComponent.processUserData.apply(e):k(e)}function j(){H=$(HandlebarsTemplates["orders/loader"]()).dialog({modal:!0,autoOpen:!1,resizable:!1,width:"110px",dialogClass:"order-popup-form-loader-dialog order-popup-form-loader-wrapper",close:S})}function S(){F.abort()}function P(e,t,n){var a;app.config.isMobile?$doc.trigger("closeAllPopup:popups").trigger("insert:popups:mobile",{sourceElement:e,tmpl:"orders/mobile_orders_popup",params:{content:t}}):(a=$(".js-order-popup-form-wrapper"),a.length?a.html($(t)).dialog({close:function(){$doc.trigger("conversionEventLog:send",[{type:"form",productId:n.params.product_id}])}}):$(HandlebarsTemplates["orders/order_form"]()).append($(t)).dialog({modal:!0,resizable:!1,width:"auto",height:"auto",dialogClass:"order-form-dialog order-popup-wrapper",open:app.modules.customerOrdersUtils.lockScroll,close:function(){app.modules.customerOrdersUtils.unlockScroll,$doc.trigger("conversionEventLog:send",{type:"form",productId:n.params.product_id})}})),$(".js-of-date-picker").datepicker("enable"),$doc.trigger("createdOrderFromPopupCallback:getOrderFormPopup"),app.modules.attachmentsFields&&app.modules.attachmentsFields.load()}function E(e,t){app.config.isMobile||(H||j(),app.modules.customerOrdersUtils.openPopup.bind(null,H)),F=$.ajax({url:app.config.getOrderPopupURLs[t.type],data:t.params}).always(function(){app.config.isMobile||app.modules.customerOrdersUtils.closePopup.bind(null,H)}).done(function(n){P(e,n,t)}).fail(function(t,n,a){503===t.status?A(e):console.error(a)})}function A(e){var t={cmsUrl:app.config.pageUrls.order+"?from="+location.href,mobile:app.config.isMobile};app.config.isMobile?$doc.trigger("insert:popups:mobile",{sourceElement:e,tmpl:"shared/orders_locked",params:t}):$(".js-dialog-popup-box").html(HandlebarsTemplates["shared/orders_locked"](t)).dialog({modal:!0,width:400,resizable:!1,dialogClass:"dialog-popup orders-locked-popup"})}function T(){I||location.reload(!0)}function M(){$doc.on("orderForm.init",m).on("input propertychange recount",".js-of-count",u).on("focus",".js-of-customer_phone",function(){$(this).trigger("init:phoneMask")}).on("input",".js-input-phone-auth, .js-of-customer_phone",f).on("focus",".js-input-phone-auth:not(.js-input-multiple-auth), .js-of-customer_phone",function(){var e=$(this);e.val()||e.val("+7")}).on("focusout",".js-input-phone-auth:not(.js-input-multiple-auth), .js-of-customer_phone",function(){var e=$(this);"+7"===e.val()&&e.val("")}).on("blur",".js-of-count",function(){var e=$(this);!parseInt(e.val())&&e.val(1)}).on("click",".js-of-date-picker",function(e){var t=$(this);t.prop("disabled")||t.datepicker("show"),e.preventDefault()}).on("click",".js-of-online-payment-button",function(){D=!0,$(this).prop({disabled:!0}).closest(".js-order-form").submit()}).on("submit",".js-order-form",function(e){var t=$(this);c(),app.config.orderFormAnalytics&&$doc.trigger("send:externalAnalytics",app.config.orderFormAnalytics.sendId),app.config.orderFormPrepare?app.config.orderFormPrepare(t):_(t),e.preventDefault()}).on("click",".js-close-order-popup",function(){$(".js-order-popup-form-wrapper").dialog("close")}).on("click",".js-get-order-form",function(e){var t=$(this),n=t.data();app.config.globalLocked||app.config.ordersUpdatesLocked||app.modules.customerOrdersUtils.isLockedPopup(n.type)?A(t):E(t,n),e.preventDefault()}).on("generateCodeComplete:authComponent",function(){!app.config.isMobile&&u_reRenderPopup()}).on("closePopup.popups",function(e,t){t&&$(t[0]).hasClass("js-order-form-call")&&T()})}var O,R,I,F,H,D;return{load:M,submit:_,togglePhone:p,showFlashError:C,getUserAdditionalData:a}}(app.modules.orderForm),function(e){function t(t,n){var a=n.split(""),i=-1;return e.each(t,function(t,n){return-1===(i=e.inArray(n,a))}),i}e.fn.numeric=function(t,n){"boolean"==typeof t&&(t={decimal:t,negative:!0,decimalPlaces:-1,integerPlaces:-1}),t=t||{},"undefined"==typeof t.negative&&(t.negative=!0);var a;a=!1===t.decimal?[]:t.decimal&&!0!==t.decimal?e.isArray(t.decimal)?t.decimal:[t.decimal]:["."];var i=!0===t.negative,r="undefined"==typeof t.decimalPlaces?-1:t.decimalPlaces,o="undefined"==typeof t.integerPlaces?-1:t.integerPlaces;return n="function"==typeof n?n:function(){},this.data("numeric.decimal",a).data("numeric.negative",i).data("numeric.callback",n).data("numeric.decimalPlaces",r).data("numeric.integerPlaces",o).keypress(e.fn.numeric.keypress).keyup(e.fn.numeric.keyup).blur(e.fn.numeric.blur)},e.fn.numeric.keypress=function(n){var a=e.data(this,"numeric.decimal"),i=e.data(this,"numeric.negative"),r=e.data(this,"numeric.decimalPlaces"),o=e.data(this,"numeric.integerPlaces"),s=n.charCode?n.charCode:n.keyCode?n.keyCode:0,l=e(this).val();if(13==s&&"input"==this.nodeName.toLowerCase())return!0;if(13==s)return!1;var c=!1;if(n.ctrlKey&&97==s||n.ctrlKey&&65==s)return!0;if(n.ctrlKey&&120==s||n.ctrlKey&&88==s)return!0;if(n.ctrlKey&&99==s||n.ctrlKey&&67==s)return!0;if(n.ctrlKey&&122==s||n.ctrlKey&&90==s)return!0;if(n.ctrlKey&&118==s||n.ctrlKey&&86==s||n.shiftKey&&45==s)return!0;if(s<48||s>57){if(0!==e.inArray("-",l.split(""))&&i&&45==s&&(0===l.length||0===parseInt(e.fn.getSelectionStart(this),10)))return!0;8!=s&&9!=s&&13!=s&&35!=s&&36!=s&&37!=s&&39!=s&&46!=s?c=!1:"undefined"!=typeof n.charCode&&(n.keyCode==n.which&&0!==n.which?(c=!0,46==n.which&&(c=!1)):0!==n.keyCode&&0===n.charCode&&0===n.which&&(c=!0)),-1!==e.inArray(String.fromCharCode(s),a)&&(c=-1===t(a,l))}else{var u=t(a,l),d=e.fn.getSelectionStart(this);c=!0,r>0&&-1!==u&&d>u&&l.length>u+r&&(c=!1),o>=0&&(-1===u&&l.length+1>o||-1!==u&&d<=u&&u+1>o)&&(c=!1)}return c},e.fn.numeric.keyup=function(){var n=e(this).val();if(n&&n.length>0){var a=e.fn.getSelectionStart(this),i=e.fn.getSelectionEnd(this),r=e.data(this,"numeric.decimal"),o=e.data(this,"numeric.negative"),s=e.data(this,"numeric.decimalPlaces"),l=e.data(this,"numeric.integerPlaces");if(r.length){var c=t(r,n);0===c&&(this.value="0"+n,a++,i++),1==c&&"-"==n.charAt(0)&&(this.value="-0"+n.substring(1),a++,i++),n=this.value}for(var u=[0,1,2,3,4,5,6,7,8,9,"-"].concat(r),d=n.length,p=d-1;p>=0;p--){var f=n.charAt(p);0!==p&&"-"==f?n=n.substring(0,p)+n.substring(p+1):0!==p||o||"-"!=f||(n=n.substring(1));for(var m=!1,h=0;h<u.length;h++)if(f==u[h]){m=!0;break}m&&" "!=f||(n=n.substring(0,p)+n.substring(p+1))}var g=t(r,n);if(g>0)for(var v=d-1;v>g;v--){var y=n.charAt(v);-1!==e.inArray(y,r)&&(n=n.substring(0,v)+n.substring(v+1))}if(r.length&&s>0){var c=t(r,n);c>=0&&(n=n.substring(0,c+s+1),i=Math.min(n.length,i))}if(l>=0){var c=t(r,n);if(-1===c)n=n.substring(0,l),i=Math.min(n.length,i);else{var b=n.substring(0,c),k=n.substring(c);b=b.substring(0,l),n=b+k}}this.value=n,e.fn.setSelection(this,[a,i])}},e.fn.numeric.blur=function(){var t=e.data(this,"numeric.decimal"),n=e.data(this,"numeric.callback"),a=e.data(this,"numeric.negative"),i=this.value,r="";if(e.each(t,function(e,t){r+="\\"+t}),r&&(r="["+r+"]"),""!==i){new RegExp(a?"-?":"^\\d+$|^\\d*"+r+"\\d+$").exec(i)||n.apply(this)}},e.fn.removeNumeric=function(){return this.data("numeric.decimal",null).data("numeric.negative",null).data("numeric.callback",null).data("numeric.decimalPlaces",null).data("numeric.integerPlaces",null).unbind("keypress",e.fn.numeric.keypress).unbind("keyup",e.fn.numeric.keyup).unbind("blur",e.fn.numeric.blur)},e.fn.getSelectionStart=function(e){if("number"===e.type)return undefined;if(e.createTextRange&&document.selection){var t=document.selection.createRange().duplicate();return t.moveEnd("character",e.value.length),""==t.text?e.value.length:Math.max(0,e.value.lastIndexOf(t.text))}try{return e.selectionStart}catch(e){return 0}},e.fn.getSelectionEnd=function(e){if("number"===e.type)return undefined;if(e.createTextRange&&document.selection){var t=document.selection.createRange().duplicate();return t.moveStart("character",-e.value.length),t.text.length}return e.selectionEnd},e.fn.setSelection=function(e,t){if("number"==typeof t&&(t=[t,t]),t&&t.constructor==Array&&2==t.length)if("number"===e.type)e.focus();else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveStart("character",t[0]),n.moveEnd("character",t[1]-t[0]),n.select()}else{e.focus();try{e.setSelectionRange&&e.setSelectionRange(t[0],t[1])}catch(e){}}}}(jQuery),app.modules.selectCheck=function(e){function t(){var e=[];return c.find(".js-select-check-checkbox:checked").each(function(){e.push($(this).closest(".js-select-check-item").data("region-name"))}),e.join(", ")}function n(){c.find(".js-select-check-checkbox:checked").length===c.data("max-items")?c.find(".js-select-check-checkbox:not(:checked)").prop("disabled",!0):u.prop("disabled",!1)}function a(e){var t=app.modules.projectUtils.enRuSwitch({str:e.val()}),n=new RegExp("^"+t,"i");c.find(".js-select-check-item, .js-select-single-item").each(function(){var e=$(this);e.toggle(n.test(e.data("region-name")))})}function i(){var e=$(this);l.text(e.data("region-name")),$(".js-select-single-value").val(e.data("region-id")),s.hide()}function r(){c.on("click",".js-select-check-input, .js-toggle-select-check",function(){c.data("disabled")||(s.show(),c.addClass("active"),app.config.isMobile||c.find(".js-select-check-search").focus())}),$doc.on("click keyup",function(e){$(e.target).closest(".js-select-check").length&&27!==e.keyCode||(s.hide(),c.removeClass("active"))}).on("disableOrEnable:selectCheck",function(e,t){c.data({disabled:t})}).on("click",".js-select-single-item",i).on("init:selectCheck",o),u.change(function(){var e=t();c.data("max-items")&&n(),l.length&&l.text(e||c.data("default-value")),$doc.trigger("getSelected:selectCheck")}),c.find(".js-select-check-button").click(function(){s.hide(),c.removeClass("active")}),c.find(".js-select-check-search").on("input propertychange",function(){a($(this))})}function o(){c=$(".js-select-check"),c.addClass(c.data("position")||"bottom"),u=c.find(".js-select-check-checkbox"),s=c.find(".js-select-check-body"),l=c.find(".js-select-check-input"),r(),c.find(".js-select-check-checkbox:checked").length&&c.find(".js-select-check-checkbox:eq(0)").change()}var s,l,c,u;return e.load=function(){o()},e}(app.modules.selectCheck||{}),function(e){var t={},n={},a=function(n){n.filter(function(){return null==e(this).data("index")}).each(function(){var n=e(this).data({options:e.extend({},t),index:$win.data("togglerCount")}),a=n.find(".js-toggle-switcher").filter(function(){return e(this).closest(".js-toggle").data("index")==n.data("index")}),i=n.find(".js-toggle-content").filter(function(){return e(this).closest(".js-toggle").data("index")==n.data("index")});$win.data("togglerCount",$win.data("togglerCount")+1),n.data({switcher:a,content:i}),n.hasClass("toggle-off")&&a.data("off")&&a.data("on",a.html()).html(a.data("off")),a.click(function(t){var n,a=e(this),i=a.closest(".js-toggle"),r=i.data("content");switch(n=i.hasClass("toggle-off"),i.toggleClass("toggle-off"),a.data("off")&&(n?a.data("on",a.html()).html(a.data("off")):a.html(a.data("on"))),i.data("effect")){case"slide":n?r.show().slideUp(200,function(){$win.resize()}):r.hide().slideDown(200,function(){$win.resize()});break;case"fade":n?r.show().fadeOut(200,function(){$win.resize()}):r.hide().fadeIn(200,function(){$win.resize()})}t.preventDefault()})})},i={init:function(i){$win.data("togglerCount")||$win.data("togglerCount",0),e.extend(t,n,i),a(this)}};e.fn.toggler=function(t){return"object"!=typeof t&&t?i[t]?i[t].apply(this,Array.prototype.slice.call(arguments,1)):void e.error("\u041c\u0435\u0442\u043e\u0434 "+t+" \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0432 jQuery.toggler"):i.init.apply(this,arguments)}}(jQuery);